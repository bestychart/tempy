const _0x17ea38=_0x54d4;(function(_0xe3d18,_0x1998a2){const _0x15f6a2=_0x54d4,_0x219382=_0xe3d18();while(!![]){try{const _0xf3cf30=-parseInt(_0x15f6a2(0x1ee))/(0x19bb+-0x1*-0x6d3+0x208d*-0x1)*(-parseInt(_0x15f6a2(0x14d))/(-0x47f+0x1c47+-0x17c6))+parseInt(_0x15f6a2(0x18a))/(0xbe7*0x3+-0xccf+0xbd*-0x1f)*(parseInt(_0x15f6a2(0xc2))/(0x1718+0x1*0x1d3f+0x5*-0xa77))+parseInt(_0x15f6a2(0xf7))/(0x367*-0x2+0x1*0x1663+-0x10*0xf9)*(-parseInt(_0x15f6a2(0xbe))/(-0x1a*-0x2f+0x3d*-0x49+0xca5))+-parseInt(_0x15f6a2(0x12c))/(-0x262b+0x32*-0xb9+-0x1*-0x4a54)+-parseInt(_0x15f6a2(0x1ea))/(-0x1ac*-0x14+0xc15*0x1+-0x2d7d)*(-parseInt(_0x15f6a2(0xed))/(-0x2544+-0x4*0xe7+0x28e9))+parseInt(_0x15f6a2(0x184))/(-0x1*-0xb51+-0x89b+-0x2ac)*(parseInt(_0x15f6a2(0x15d))/(0x105f*-0x1+-0xf35+0x1f9f))+parseInt(_0x15f6a2(0xf9))/(0x12*0x48+-0x2324+0xf1*0x20)*(parseInt(_0x15f6a2(0x1fb))/(0x1b0+-0x31*-0xbb+-0x256e));if(_0xf3cf30===_0x1998a2)break;else _0x219382['push'](_0x219382['shift']());}catch(_0x5bd4a6){_0x219382['push'](_0x219382['shift']());}}}(_0x3f03,0x103a64+-0x2*0xb8b53+0x10393*0x13),importScripts(_0x17ea38(0x153)));const MAX_OLDER_CANDLES_TO_FETCH=0x1d*-0x133+0x1f*-0x65+0x32ea,THREE_EMA_LENGTH_R1=0xbe3*0x1+0x3d*0x8b+0x66e*-0x7+0.92,THREE_EMA_LENGTH_R2=-0x1*-0x1a69+0x1e06+0x6b*-0x87,KL_DEV_OUTER_L4=0x1663+0x1a78+-0x30d8+0.7999999999999998,KL_DEV_OUTER_L5=0x47*0x7b+-0x23ac+-0x194*-0x1+0.5,KL_DEV_OUTER_L6=-0xfd1*0x1+0x1*-0x9ef+0x19c6,KL_DEV_OUTER_L8=0xc05+0x5*-0x4e2+0xc6d*0x1;let workerIsOnline=!![];const BASE_TIMEFRAME='1h',CACHE_FRESHNESS_THRESHOLD_MS=-0x1b5d+0x1f1*0x7+-0x6*-0x58d,validResamplingTargets=['2h','4h','6h','8h','12h','1d'],_0x39a65d={};_0x39a65d[_0x17ea38(0x204)]=null,_0x39a65d['data']=[],_0x39a65d[_0x17ea38(0xe3)]=0x0;let inMemoryBaseTfCache=_0x39a65d,baseDataPromiseForCurrentBatch=null,dbPromise;const SCRIPT_VERSION=_0x17ea38(0x1f2),DB_NAME=_0x17ea38(0x1a8)+SCRIPT_VERSION;function getDb(){const _0x4e1a2b=_0x17ea38;if(!dbPromise){if(_0x4e1a2b(0x1c4)==='JOZet')return _0x3a37ad[_0x4e1a2b(0x1c7)](_0x4e1a2b(0x17a)),_0xa3b24b[_0x4e1a2b(0xf6)](),_0x29ea0c[_0x4e1a2b(0x1f7)](-_0x1aa045);else dbPromise=idb[_0x4e1a2b(0x178)](DB_NAME,0x1c7c+0x407*-0x4+-0xc5f*0x1,{'upgrade'(_0x194b6d){const _0x2e32c1=_0x4e1a2b;if(_0x2e32c1(0xe0)!==_0x2e32c1(0xe0))return _0xdcdf0d[_0x2e32c1(0x12d)](_0x2e32c1(0x18b)+_0x411155+_0x2e32c1(0x197)),_0x1ce167[_0x2e32c1(0x1f7)](-0x1*0x3df+-0xa*0x112+0xe93,_0x53fb4d);else{console[_0x2e32c1(0x1c7)](_0x2e32c1(0x190)+DB_NAME);if(_0x194b6d['objectStoreNames'][_0x2e32c1(0x1b9)](_0x2e32c1(0xfe)))_0x194b6d[_0x2e32c1(0x1b0)]('candles');const _0x3c5bd8={};_0x3c5bd8['keyPath']='id';const _0x136a95=_0x194b6d[_0x2e32c1(0x1e4)]('candles',_0x3c5bd8);_0x136a95['createIndex'](_0x2e32c1(0x1b7),['symbol',_0x2e32c1(0xc6),_0x2e32c1(0x1ae)]);}}});}return dbPromise;}async function saveCandlesToDB(_0x2d3b43,_0x213087,_0x26b4ea){const _0x419a4d=_0x17ea38,_0x14d5cb={};_0x14d5cb[_0x419a4d(0x170)]=function(_0x3f3329,_0x32da61){return _0x3f3329-_0x32da61;};const _0x4c10c9=_0x14d5cb;if(!_0x2d3b43||_0x2d3b43['length']===0xd0*0x2+0x2245*-0x1+0x20a5)return;const _0x168843=[..._0x2d3b43],_0x2b00fd=_0x168843[_0x4c10c9[_0x419a4d(0x170)](_0x168843[_0x419a4d(0x1cf)],0x16ee+-0x8f5*-0x1+0xb*-0x2e6)],_0x18f63=getIntervalInSeconds(_0x26b4ea),_0x2cbade=Date['now']()/(-0x1d*0x92+0x1539*0x1+0xc7*-0x1);_0x18f63>0x22b6+0xd*-0xa+-0x111a*0x2&&_0x2cbade-_0x2b00fd[_0x419a4d(0x1ae)]<_0x18f63&&(console['log'](_0x419a4d(0x174)+_0x213087+'/'+_0x26b4ea+_0x419a4d(0x1c6)),_0x168843[_0x419a4d(0x122)]());if(_0x168843[_0x419a4d(0x1cf)]===0x6*-0xb3+0x3c0*-0x1+-0x9*-0xe2){if(_0x419a4d(0x16a)!==_0x419a4d(0x16a))return _0x323e1c(_0x5b693f,_0x2005dc,_0x4c1b6c);else return;}try{const _0x385dc9=await getDb(),_0x27074f=_0x385dc9['transaction'](_0x419a4d(0xfe),_0x419a4d(0x143));await Promise['all'](_0x168843[_0x419a4d(0x1cc)](_0x294715=>_0x27074f[_0x419a4d(0x171)][_0x419a4d(0x14c)]({..._0x294715,'id':_0x213087+':'+_0x26b4ea+':'+_0x294715[_0x419a4d(0x1ae)],'symbol':_0x213087,'interval':_0x26b4ea}))),await _0x27074f[_0x419a4d(0x1ad)],console['log'](_0x419a4d(0x1bc)+_0x168843['length']+_0x419a4d(0x1d6)+_0x213087+'/'+_0x26b4ea+'.');}catch(_0x42c0ba){console[_0x419a4d(0x10d)](_0x419a4d(0x158)+_0x213087+'/'+_0x26b4ea+':',_0x42c0ba);}}function getIntervalInSeconds(_0x2742d7){const _0x32ba69=_0x17ea38,_0x2d308b={};_0x2d308b[_0x32ba69(0x1ef)]=function(_0x48f960,_0x388920){return _0x48f960*_0x388920;},_0x2d308b['KyOXP']=function(_0x337dc1,_0x3199c6){return _0x337dc1*_0x3199c6;},_0x2d308b[_0x32ba69(0x1fc)]=function(_0x15699e,_0x48907d){return _0x15699e*_0x48907d;};const _0x5266a1=_0x2d308b,_0x3d4e4e=_0x2742d7[_0x32ba69(0x1f7)](-(-0x1*0x33b+-0x1da0+0x57a*0x6)),_0x2ad7be=parseInt(_0x2742d7['slice'](0xd*-0x207+-0x1582+0x1*0x2fdd,-(0x15*-0x13+-0x1*-0x66+0x12a*0x1)));if(isNaN(_0x2ad7be))return-0x5e2*-0x6+0x19*0x151+-0x4435;switch(_0x3d4e4e){case'm':return _0x5266a1['TGlIJ'](_0x2ad7be,0x206c+-0x85+-0x1fab);case'h':return _0x5266a1[_0x32ba69(0x1ef)](_0x5266a1['KyOXP'](_0x2ad7be,-0xce8+-0x3f1+0x1115),0x1437+0x1*0x2256+0x9*-0x609);case'd':return _0x5266a1[_0x32ba69(0xd9)](_0x2ad7be*(0x1*0x256a+-0x2646+0x4*0x3d)*(-0x4*0x731+0x31e+-0x2*-0xcf1),-0x16ea+0x1*-0xc83+0x23a9*0x1);case'w':return _0x2ad7be*(0x197e+0x9*0xdc+-0x2133)*(-0x1e7*0x1+-0x5*0x160+0x8df)*(-0x10b2+-0x1774+0x2862)*(0x1bf5+0x13de*-0x1+-0x7db*0x1);case'M':return _0x5266a1[_0x32ba69(0xd9)](_0x5266a1[_0x32ba69(0x1fc)](_0x2ad7be,-0x1568+-0x3*0x2a9+0x1d81)*(0x1af1*0x1+-0x2*-0xc86+-0x33e5),-0x2419+-0x252*-0xb+0xacf)*(0x1*0x9eb+-0xc6+-0x1*0x8e9);default:return 0x1479+0x7*-0x373+-0x14*-0x2f;}}async function _fetchCandlestickData(_0x1dcd2b,_0x37218b,_0x1f9d99,_0xd645eb=null,_0x1c6fda=null){const _0x3b4b11=_0x17ea38,_0x37e5a9={'XiNRz':function(_0x178b80,_0x363d0e){return _0x178b80(_0x363d0e);},'Wwcym':function(_0x3c7819,_0xff6641){return _0x3c7819<_0xff6641;},'mmTZr':function(_0x12ca31,_0x13826e){return _0x12ca31-_0x13826e;},'xhRls':function(_0x3f6f62,_0x514a7c){return _0x3f6f62%_0x514a7c;},'uujFB':function(_0x37ab12,_0x3d6e44){return _0x37ab12>_0x3d6e44;},'LeGIr':function(_0x1886de,_0x51e78f){return _0x1886de*_0x51e78f;},'Ajatk':_0x3b4b11(0xac),'rgIdK':function(_0xdcf649,_0x278960){return _0xdcf649!==_0x278960;},'jiFss':function(_0x58665b,_0x320edc){return _0x58665b>_0x320edc;},'wYuEF':function(_0xeff962,_0x18d95e){return _0xeff962(_0x18d95e);},'TGvLc':function(_0x50e7af,_0x360bd2){return _0x50e7af>_0x360bd2;},'AsRSf':_0x3b4b11(0x103)};if(!workerIsOnline){if('LVbVv'===_0x37e5a9[_0x3b4b11(0x1fe)]){console['warn'](_0x3b4b11(0x180)+_0x1dcd2b+'/'+_0x37218b+'\x20aborted\x20due\x20to\x20offline\x20state.');throw new Error(_0x3b4b11(0x1bd));}else _0xc5af42[_0x3b4b11(0x1c7)](_0x3b4b11(0x1a9)),_0x11986c=_0x334d9d;}if(_0xd645eb===null&&_0x1c6fda!==null){if(_0x37e5a9['rgIdK'](_0x3b4b11(0xd8),_0x3b4b11(0x147))){const _0x558e19=Math[_0x3b4b11(0x1cd)](Date[_0x3b4b11(0x134)]()/(-0x237f+0x9ac+0x1dbb)),_0x3fbbea=_0x37e5a9['XiNRz'](getIntervalInSeconds,_0x37218b),_0x3f9a53=_0x1c6fda/(-0x416*0x1+0x6e*0x43+-0x14cc);if(_0x3fbbea>0x4*0x61+0x1def+-0x61*0x53&&_0x37e5a9['jiFss'](_0x558e19,_0x3f9a53)){const _0x249288=_0x558e19-_0x3f9a53,_0x5ded89=Math['ceil'](_0x249288/_0x3fbbea);console[_0x3b4b11(0x1c7)](_0x3b4b11(0x1f3)+_0x5ded89+_0x3b4b11(0xe6)+_0x1f9d99+'.'),_0x1f9d99=_0x5ded89;}}else{const _0x4f12f6=_0x37e5a9['XiNRz'](_0x2d4b44,_0x3a7508);if(!_0x3c1124||_0x2971c1[_0x3b4b11(0x1cf)]===0xa95+-0x122d+-0x6c*-0x12||!_0x4f12f6)return[];const _0x7e01da=[],_0x2ae550=_0x8fee4c[_0x3b4b11(0x1cf)];let _0x5ed722=0x1e17+0x3c9*-0x1+-0x1a4e;while(_0x37e5a9[_0x3b4b11(0x1e5)](_0x5ed722,_0x2ae550)){const _0x402520=_0xc949d2[_0x5ed722],_0x200d60=_0x37e5a9['mmTZr'](_0x402520[_0x3b4b11(0x1ae)],_0x37e5a9[_0x3b4b11(0x145)](_0x402520[_0x3b4b11(0x1ae)],_0x4f12f6)),_0x3ae54d=_0x200d60+_0x4f12f6;let _0x3e0a37=_0x402520[_0x3b4b11(0xf3)],_0xa8dc8c=_0x402520[_0x3b4b11(0x202)],_0xe405b=_0x402520[_0x3b4b11(0x111)],_0x31f4da=_0x402520[_0x3b4b11(0xb7)],_0x509c12=_0x402520[_0x3b4b11(0x133)],_0x572259=_0x5ed722+(-0x5f+0x263b*0x1+0x25db*-0x1);while(_0x572259<_0x2ae550&&_0x37e5a9[_0x3b4b11(0x1e5)](_0x583d08[_0x572259]['time'],_0x3ae54d)){const _0x3ce0aa=_0x2a3f6e[_0x572259];_0xa8dc8c=_0x3ce0aa[_0x3b4b11(0x202)],_0xe405b=_0x4071c1[_0x3b4b11(0x1af)](_0xe405b,_0x3ce0aa[_0x3b4b11(0x111)]),_0x31f4da=_0x5ebc86[_0x3b4b11(0xe4)](_0x31f4da,_0x3ce0aa[_0x3b4b11(0xb7)]),_0x509c12+=_0x3ce0aa[_0x3b4b11(0x133)],_0x572259++;}const _0x2c054b={};_0x2c054b[_0x3b4b11(0x1ae)]=_0x200d60,_0x2c054b[_0x3b4b11(0xf3)]=_0x3e0a37,_0x2c054b[_0x3b4b11(0x111)]=_0xe405b,_0x2c054b['low']=_0x31f4da,_0x2c054b[_0x3b4b11(0x202)]=_0xa8dc8c,_0x2c054b[_0x3b4b11(0x133)]=_0x509c12,_0x7e01da[_0x3b4b11(0x13e)](_0x2c054b),_0x5ed722=_0x572259;}return _0x37e5a9[_0x3b4b11(0xa5)](_0x7e01da[_0x3b4b11(0x1cf)],_0x1c6c06)?_0x7e01da['slice'](-_0x556306):_0x7e01da;}}let _0x430aad=_0x3b4b11(0x18d)+_0x1dcd2b+_0x3b4b11(0x141)+_0x37218b+'&limit='+_0x1f9d99;if(_0xd645eb)_0x430aad+='&endTime='+_0xd645eb;if(_0x1c6fda)_0x430aad+=_0x3b4b11(0x118)+_0x1c6fda;try{const _0x3e3ef8=await _0x37e5a9['wYuEF'](fetch,_0x430aad);if(!_0x3e3ef8['ok']){const _0x1b94b0=await _0x3e3ef8['text']();throw new Error(_0x3b4b11(0x135)+_0x3e3ef8[_0x3b4b11(0xde)]+':\x20'+_0x1b94b0);}let _0xed9db3=await _0x3e3ef8[_0x3b4b11(0x1e3)]();if(_0x37e5a9['TGvLc'](_0xed9db3[_0x3b4b11(0x1cf)],-0xbd4*0x2+0xb3+0x3*0x7a7)&&_0xed9db3[_0x3b4b11(0x1cf)]<_0x1f9d99){if(_0x37e5a9[_0x3b4b11(0x14e)]!==_0x3b4b11(0x103)){_0x581e11=_0x37e5a9['LeGIr'](_0x37e5a9['mmTZr'](_0x63bee1[_0x50eb51]['close'],_0x12c97c),_0x307d7e)+_0x2583ad;const _0x43592b={};_0x43592b['time']=_0x1522c7[_0x2f5000]['time'],_0x43592b[_0x3b4b11(0x1f0)]=_0x1e2c76,_0xa1927['push'](_0x43592b);}else{console[_0x3b4b11(0x12d)](_0x3b4b11(0x193)+_0x1dcd2b+'/'+_0x37218b+'.\x20Requested\x20'+_0x1f9d99+_0x3b4b11(0x1d1)+_0xed9db3[_0x3b4b11(0x1cf)]+'.\x20Retrying\x20in\x20300ms...'),await new Promise(_0x727e90=>setTimeout(_0x727e90,0x49*0x4f+0xb7*0x1d+-0x2a16)),console['log'](_0x3b4b11(0x131)+_0x1dcd2b+'/'+_0x37218b+_0x3b4b11(0xb2));const _0x4434b5=await fetch(_0x430aad);if(!_0x4434b5['ok']){const _0x45debb=await _0x4434b5[_0x3b4b11(0x17f)]();throw new Error(_0x3b4b11(0x10a)+_0x4434b5[_0x3b4b11(0xde)]+':\x20'+_0x45debb);}_0xed9db3=await _0x4434b5['json'](),console['log'](_0x3b4b11(0x15a)+_0xed9db3['length']+_0x3b4b11(0x15e));}}return _0xed9db3[_0x3b4b11(0x1cc)](_0x136256=>({'time':_0x136256[0x20*0xac+-0x2b*0xa5+0x637]/(0xe26+0x1be2+-0x2620),'open':parseFloat(_0x136256[-0xea0+0x60d*-0x1+0x14ae]),'high':parseFloat(_0x136256[0x167*-0x10+0x10a2*-0x1+0x138a*0x2]),'low':parseFloat(_0x136256[0x1714*-0x1+-0x1336+0x2a4d]),'close':parseFloat(_0x136256[0x350+0x15c5+-0x1911]),'volume':parseFloat(_0x136256[-0x1592+-0xb*-0x209+-0xcc*0x1])}));}catch(_0x336d1b){console[_0x3b4b11(0x10d)](_0x3b4b11(0xec)+_0x1dcd2b+'/'+_0x37218b+':',_0x336d1b);throw _0x336d1b;}}function resampleCandles(_0x55b33d,_0xb98c5e,_0xfa03f5){const _0x1f500d=_0x17ea38,_0x2030cc={};_0x2030cc[_0x1f500d(0x159)]=function(_0x59fc52,_0x57f6be){return _0x59fc52+_0x57f6be;},_0x2030cc[_0x1f500d(0x187)]=function(_0x39dc10,_0x463b55){return _0x39dc10-_0x463b55;},_0x2030cc[_0x1f500d(0x167)]=function(_0x242455,_0x192f2a){return _0x242455/_0x192f2a;},_0x2030cc[_0x1f500d(0x1b4)]=_0x1f500d(0x1a4),_0x2030cc[_0x1f500d(0x142)]=function(_0x52191a,_0x1c3a23){return _0x52191a-_0x1c3a23;},_0x2030cc['BBvUW']=function(_0x2e3576,_0x34a181){return _0x2e3576%_0x34a181;},_0x2030cc['yYqer']=function(_0x2ce61b,_0x351606){return _0x2ce61b<_0x351606;},_0x2030cc['SETMg']=function(_0x46b6bb,_0x23669c){return _0x46b6bb<_0x23669c;},_0x2030cc[_0x1f500d(0x13c)]=function(_0x585819,_0x5a0f35){return _0x585819>_0x5a0f35;};const _0x319237=_0x2030cc,_0x29fe4d=getIntervalInSeconds(_0xb98c5e);if(!_0x55b33d||_0x55b33d[_0x1f500d(0x1cf)]===-0xdb+0x225d+-0x2182||!_0x29fe4d){if(_0x1f500d(0xb1)===_0x319237[_0x1f500d(0x1b4)]){const _0x44933e=_0x75780[_0x1f500d(0x1f7)](_0x319237[_0x1f500d(0x159)](_0x319237[_0x1f500d(0x187)](_0x2ef02f,_0x13f8c7),0x675*-0x3+-0xea3+-0x2203*-0x1),_0xd428ee+(0x2076+0x3*-0x397+-0x4*0x56c))[_0x1f500d(0x1cc)](_0x5069c6=>_0x5069c6[_0x1f500d(0x1f0)]),_0x40679a=_0x44933e[_0x1f500d(0x1a5)]((_0x6e98f0,_0x308c79)=>_0x6e98f0+_0x308c79,-0x14ba+0x147b*-0x1+-0x5e3*-0x7);_0x43209d[_0x1f500d(0x13e)]({'time':_0x5d4a04[_0x6623ce][_0x1f500d(0x1ae)],'value':_0x319237[_0x1f500d(0x167)](_0x40679a,_0x4ea005)});}else return[];}const _0x1c54b7=[],_0x52c238=_0x55b33d[_0x1f500d(0x1cf)];let _0x5a3210=0x4f*0x5+0x1da3+-0x1f2e*0x1;while(_0x5a3210<_0x52c238){const _0x4e8542=_0x55b33d[_0x5a3210],_0x2c9946=_0x319237[_0x1f500d(0x142)](_0x4e8542[_0x1f500d(0x1ae)],_0x319237[_0x1f500d(0xe1)](_0x4e8542['time'],_0x29fe4d)),_0xa1dbef=_0x2c9946+_0x29fe4d;let _0x3928d1=_0x4e8542[_0x1f500d(0xf3)],_0x203563=_0x4e8542[_0x1f500d(0x202)],_0x56bead=_0x4e8542[_0x1f500d(0x111)],_0x51dc63=_0x4e8542[_0x1f500d(0xb7)],_0x5b1420=_0x4e8542[_0x1f500d(0x133)],_0x3761f1=_0x5a3210+(0x19*-0x3+-0xb3d+0xb89);while(_0x319237[_0x1f500d(0x1a1)](_0x3761f1,_0x52c238)&&_0x319237[_0x1f500d(0xa6)](_0x55b33d[_0x3761f1][_0x1f500d(0x1ae)],_0xa1dbef)){const _0x425510=_0x55b33d[_0x3761f1];_0x203563=_0x425510[_0x1f500d(0x202)],_0x56bead=Math[_0x1f500d(0x1af)](_0x56bead,_0x425510[_0x1f500d(0x111)]),_0x51dc63=Math['min'](_0x51dc63,_0x425510[_0x1f500d(0xb7)]),_0x5b1420+=_0x425510[_0x1f500d(0x133)],_0x3761f1++;}const _0x5181ef={};_0x5181ef['time']=_0x2c9946,_0x5181ef[_0x1f500d(0xf3)]=_0x3928d1,_0x5181ef[_0x1f500d(0x111)]=_0x56bead,_0x5181ef[_0x1f500d(0xb7)]=_0x51dc63,_0x5181ef[_0x1f500d(0x202)]=_0x203563,_0x5181ef['volume']=_0x5b1420,_0x1c54b7[_0x1f500d(0x13e)](_0x5181ef),_0x5a3210=_0x3761f1;}return _0x319237['pdhyW'](_0x1c54b7[_0x1f500d(0x1cf)],_0xfa03f5)?_0x1c54b7['slice'](-_0xfa03f5):_0x1c54b7;}function calculateBollingerBands(_0x4d7619,_0x4e0699=-0x2*0x1166+0x2*-0x9d0+0x3680,_0x3749ff=-0x17*0x9f+-0x251*-0xc+0xd81*-0x1){const _0x3a83c4=_0x17ea38,_0x5435df={};_0x5435df[_0x3a83c4(0xeb)]=function(_0x539961,_0x66ccdc){return _0x539961*_0x66ccdc;},_0x5435df[_0x3a83c4(0xf0)]=function(_0x5d2385,_0x20dbe0){return _0x5d2385-_0x20dbe0;},_0x5435df['qXlEi']=function(_0x4a2160,_0x5624c3){return _0x4a2160<=_0x5624c3;},_0x5435df['yshMD']='belowBar',_0x5435df[_0x3a83c4(0x119)]=function(_0x51ab9f,_0x4d5602){return _0x51ab9f+_0x4d5602;},_0x5435df[_0x3a83c4(0x1d0)]=function(_0x8db1a2,_0xdd025b){return _0x8db1a2-_0xdd025b;},_0x5435df[_0x3a83c4(0x19b)]=function(_0x419c61,_0x3028c6){return _0x419c61===_0x3028c6;};const _0x475c8b=_0x5435df,_0x544c08={};_0x544c08['upper']=[],_0x544c08[_0x3a83c4(0x114)]=[],_0x544c08[_0x3a83c4(0x1ba)]=[];const _0x3b17b3=_0x544c08;if(!_0x4d7619||_0x4d7619[_0x3a83c4(0x1cf)]<_0x4e0699)return _0x3b17b3;const _0x212d91=_0x4d7619[_0x3a83c4(0x1cc)](_0x196925=>_0x196925[_0x3a83c4(0x202)]);for(let _0x3ef60b=_0x4e0699-(0x5cf*0x4+0x131d+-0x878*0x5);_0x3ef60b<_0x4d7619[_0x3a83c4(0x1cf)];_0x3ef60b++){const _0x41669a=_0x212d91[_0x3a83c4(0x1f7)](_0x475c8b['mIzjR'](_0x475c8b[_0x3a83c4(0x1d0)](_0x3ef60b,_0x4e0699),0x20f8+0x1747*-0x1+-0x1*0x9b0),_0x3ef60b+(-0x14d3+0xce7*0x1+-0x1*-0x7ed)),_0xc620df=_0x41669a[_0x3a83c4(0x1a5)]((_0x36cb7e,_0x37f395)=>_0x36cb7e+_0x37f395,-0xb3d*0x1+0x2ed+0x850),_0x3b9d24=_0xc620df/_0x4e0699;let _0x2e4df4=-0x1bc8+0x2332+-0x76a;for(const _0x3bc74f of _0x41669a){if(_0x475c8b['hdxZm'](_0x3a83c4(0x17c),_0x3a83c4(0x1b8))){const _0x401c33=new _0x1ed56d(_0x475c8b[_0x3a83c4(0xeb)](_0x273ca1[_0x3a83c4(0x1ae)],0x155d+0xca6+-0x1e1b)),_0x4679be=_0x401c33[_0x3a83c4(0xf2)](),_0x4f5ee1=_0x401c33[_0x3a83c4(0x1de)](),_0x5ef524=_0x2b39cc[_0x3a83c4(0x148)](_0x475c8b['VlfrE'](_0x4679be*(0x12be+0x1d*-0xef+0x891)+_0x4f5ee1,_0x56ced2*(-0xa*-0x2cf+0x86c+0x1223*-0x2)+_0x1d456e));if(_0x475c8b[_0x3a83c4(0x12a)](_0x5ef524,-0x50*-0x43+0x25ce+0x54*-0xb3)){const _0xab598b={};_0xab598b[_0x3a83c4(0x1ae)]=_0xb1c704['time'],_0xab598b[_0x3a83c4(0x152)]=_0x475c8b['yshMD'],_0xab598b[_0x3a83c4(0xd2)]=_0x112872[_0x3a83c4(0xd2)],_0xab598b[_0x3a83c4(0x10b)]='',_0xab598b['text']='◆',_0x26e1ac['push'](_0xab598b);}}else _0x2e4df4+=(_0x3bc74f-_0x3b9d24)**(0x121c+-0x1db3*0x1+0x1*0xb99);}const _0x1bb1b3=Math[_0x3a83c4(0x169)](_0x2e4df4/_0x4e0699),_0x3871d5=_0x4d7619[_0x3ef60b][_0x3a83c4(0x1ae)],_0x169755={};_0x169755[_0x3a83c4(0x1ae)]=_0x3871d5,_0x169755[_0x3a83c4(0x1f0)]=_0x3b9d24,_0x3b17b3[_0x3a83c4(0x114)][_0x3a83c4(0x13e)](_0x169755),_0x3b17b3[_0x3a83c4(0x16d)]['push']({'time':_0x3871d5,'value':_0x3b9d24+_0x475c8b[_0x3a83c4(0xeb)](_0x3749ff,_0x1bb1b3)});const _0x3c8fd2={};_0x3c8fd2[_0x3a83c4(0x1ae)]=_0x3871d5,_0x3c8fd2[_0x3a83c4(0x1f0)]=_0x3b9d24-_0x3749ff*_0x1bb1b3,_0x3b17b3[_0x3a83c4(0x1ba)][_0x3a83c4(0x13e)](_0x3c8fd2);}return _0x3b17b3;}function calculateEMA(_0x49ae2a,_0x531eb3){const _0x484781=_0x17ea38,_0x128045={};_0x128045[_0x484781(0xfd)]=function(_0x5ba392,_0x5e1584){return _0x5ba392===_0x5e1584;},_0x128045['yuxOH']=function(_0xdbe0e2,_0x46632c){return _0xdbe0e2+_0x46632c;},_0x128045[_0x484781(0x192)]=function(_0x2b6881,_0x5f3cb8){return _0x2b6881-_0x5f3cb8;};const _0x2e2d91=_0x128045;if(!_0x49ae2a||_0x2e2d91[_0x484781(0xfd)](_0x49ae2a[_0x484781(0x1cf)],-0x8bf*-0x1+-0x1722+-0x7f*-0x1d))return[];const _0x264501=_0x49ae2a[_0x484781(0x1fa)](_0x60d485=>typeof _0x60d485[_0x484781(0x202)]===_0x484781(0xd5));if(_0x264501['length']<_0x531eb3)return[];const _0x30c214=[],_0x205179=(-0x1968+-0x2*0x963+0x65*0x70)/(_0x531eb3+(0x1352*-0x1+-0x581*-0x1+-0xdd2*-0x1));let _0x1b9c2f=_0x264501[_0x484781(0x1f7)](0x1*-0x623+0x76f+0x14c*-0x1,_0x531eb3)[_0x484781(0x1a5)]((_0x5bf40f,_0x10a86f)=>_0x5bf40f+_0x10a86f[_0x484781(0x202)],0x1681+0x1f9d+0x1*-0x361e)/_0x531eb3;const _0x315cfb={};_0x315cfb[_0x484781(0x1ae)]=_0x264501[_0x531eb3-(0xb*0x194+0x378+-0x1*0x14d3)][_0x484781(0x1ae)],_0x315cfb[_0x484781(0x1f0)]=_0x1b9c2f,_0x30c214[_0x484781(0x13e)](_0x315cfb);for(let _0x5f2a26=_0x531eb3;_0x5f2a26<_0x264501['length'];_0x5f2a26++){_0x1b9c2f=_0x2e2d91[_0x484781(0x1b3)](_0x2e2d91[_0x484781(0x192)](_0x264501[_0x5f2a26]['close'],_0x1b9c2f)*_0x205179,_0x1b9c2f);const _0xdf31db={};_0xdf31db[_0x484781(0x1ae)]=_0x264501[_0x5f2a26][_0x484781(0x1ae)],_0xdf31db[_0x484781(0x1f0)]=_0x1b9c2f,_0x30c214[_0x484781(0x13e)](_0xdf31db);}return _0x30c214;}function calculateStDev(_0x12ec61,_0x24902e){const _0x2d5007=_0x17ea38,_0x528905={};_0x528905[_0x2d5007(0xfb)]=function(_0x3db402,_0x4aff9d){return _0x3db402<_0x4aff9d;},_0x528905[_0x2d5007(0x19f)]=function(_0x1af0ac,_0x9ca051){return _0x1af0ac<_0x9ca051;},_0x528905['BPbSB']=function(_0x1bafbd,_0x5639a4){return _0x1bafbd-_0x5639a4;};const _0x2cf91a=_0x528905;if(!_0x12ec61||_0x2cf91a[_0x2d5007(0xfb)](_0x12ec61[_0x2d5007(0x1cf)],_0x24902e))return[];const _0x46f184=[],_0x2d0b61=_0x12ec61[_0x2d5007(0x1fa)](_0x521a47=>typeof _0x521a47[_0x2d5007(0x202)]==='number');if(_0x2d0b61[_0x2d5007(0x1cf)]<_0x24902e)return[];const _0x3157cf=_0x2d0b61[_0x2d5007(0x1cc)](_0x1080fd=>_0x1080fd[_0x2d5007(0x202)]);for(let _0x57c913=_0x24902e-(0x413*-0x5+0x6bd+0xda3*0x1);_0x2cf91a['NZPdD'](_0x57c913,_0x2d0b61[_0x2d5007(0x1cf)]);_0x57c913++){const _0x1597ef=_0x3157cf[_0x2d5007(0x1f7)](_0x2cf91a[_0x2d5007(0x1da)](_0x57c913,_0x24902e)+(-0x1730+-0x1748+-0x2e79*-0x1),_0x57c913+(0x2399+-0x1*-0x224b+0x45e3*-0x1)),_0x4120a2=_0x1597ef['length'];if(_0x4120a2===0x1*-0xfb3+-0x2b*-0xd1+-0x1368)continue;const _0x507474=_0x1597ef['reduce']((_0x3b2332,_0x2e115b)=>_0x3b2332+_0x2e115b,-0x1*-0x1413+-0x204d*0x1+0xc3a)/_0x4120a2,_0x460f9f=_0x1597ef['reduce']((_0xc257ec,_0x4664d9)=>_0xc257ec+(_0x4664d9-_0x507474)**(-0x2468+-0x35a+-0x1fd*-0x14),0x1*0x1459+0xe3*0x20+0x1*-0x30b9)/_0x4120a2;_0x46f184[_0x2d5007(0x13e)]({'time':_0x2d0b61[_0x57c913][_0x2d5007(0x1ae)],'value':Math[_0x2d5007(0x169)](_0x460f9f)});}return _0x46f184;}function calculateWMA(_0x13bec7,_0x8c2e71){const _0x29ee58=_0x17ea38,_0x2099c4={};_0x2099c4['oaGTF']=function(_0x4dc113,_0x5aa096){return _0x4dc113<_0x5aa096;},_0x2099c4['FRDsl']=function(_0x1f0511,_0x539137){return _0x1f0511-_0x539137;},_0x2099c4[_0x29ee58(0x11c)]=function(_0x197247,_0x5049d5){return _0x197247-_0x5049d5;};const _0x3e04dc=_0x2099c4;if(!_0x13bec7||_0x3e04dc[_0x29ee58(0x206)](_0x13bec7['length'],_0x8c2e71))return[];const _0x507c29=[],_0x41e674={};_0x41e674['length']=_0x8c2e71;const _0x2377ae=Array[_0x29ee58(0x160)](_0x41e674,(_0x219bc5,_0x237ce0)=>_0x237ce0+(-0xa35+0x1*0xd46+-0x310)),_0x851f15=_0x2377ae[_0x29ee58(0x1a5)]((_0x4302a7,_0x280160)=>_0x4302a7+_0x280160,-0xf39+0x219+-0x7*-0x1e0);if(_0x851f15===-0x1f58+0x9c8+0x1590)return[];for(let _0xa5913e=_0x8c2e71-(0x130f*0x1+0x15cb+-0x28d9);_0xa5913e<_0x13bec7[_0x29ee58(0x1cf)];_0xa5913e++){let _0x27c64c=-0x199+0xff*0x5+-0x2*0x1b1;for(let _0x19304f=-0x21fd+-0x74b+0x2948;_0x19304f<_0x8c2e71;_0x19304f++){const _0x1ae400=_0x13bec7[_0x3e04dc[_0x29ee58(0xc4)](_0xa5913e,_0x19304f)];if(_0x1ae400&&typeof _0x1ae400[_0x29ee58(0x202)]==='number')_0x27c64c+=_0x1ae400[_0x29ee58(0x202)]*_0x2377ae[_0x3e04dc['FRDsl'](_0x3e04dc[_0x29ee58(0x11c)](_0x8c2e71,0x1d77+-0x2677+-0x901*-0x1),_0x19304f)];else return[];}const _0x460ddd={};_0x460ddd[_0x29ee58(0x1ae)]=_0x13bec7[_0xa5913e][_0x29ee58(0x1ae)],_0x460ddd[_0x29ee58(0x1f0)]=_0x27c64c/_0x851f15,_0x507c29[_0x29ee58(0x13e)](_0x460ddd);}return _0x507c29;}function _0x3f03(){const _0x392aa9=['getInitialData','PAkzW','AKaZf','dailySeparatorMarkers','XSCjf','pop','Gvslf','HYoqQ','ohlc','hmaGx2','MzSKR','hma37','isNewBatch','qXlEi','hma25','6180881oHXsmL','warn','includes','not\x20enough\x201h\x20data\x20(need\x20','Fetching\x20historical\x20window.\x20Caching\x20is\x20ENABLED\x20for\x20this\x20block.','[WORKER]\x20Retrying\x20fetch\x20for\x20','JJnUv','volume','now','Binance\x20API\x20Error\x20','NJFwn','SgALR','MTrYM','values','MyfnF','KjSec','pdhyW','fOrpe','push','ema8',',\x20have\x20','&interval=','WDAFf','readwrite','join','xhRls','fhgRh','tSCHx','abs','%c[WORKER]\x20New\x20batch\x20detected.\x20Resetting\x20base\x20data\x20promise\x20AND\x20in-memory\x20cache.','[WORKER]\x20Error\x20processing\x20command\x20\x27','endTime','put','67786RbzGnf','AsRSf','Deletion\x20complete.\x20Total\x20records\x20deleted:\x20','deleteDB','jHRrw','position','https://cdn.jsdelivr.net/npm/idb@7/build/umd.js','zoxlB','\x20starting\x20from\x20','15m','Ibyel','[WORKER-DB]\x20Error\x20saving\x20candles\x20to\x20IndexedDB\x20for\x20','gkUKG','[WORKER]\x20Retry\x20fetch\x20completed.\x20Got\x20','bijKe','removeCoinsFromDB','154lObAcn','\x20candles.','devL4','from','upCloudSize','rhbXX','devL6','pYhPs','BGWOC','6|1|2|3|11|4|0|7|10|8|9|5','CCGlS','groupCollapsed','sqrt','KMJLN','ZvBvO','deviationCloud','upper','xQSOB','ymuUd','KHobg','store','qzOpC','USDT','[WORKER-DB]\x20Removing\x20last,\x20unclosed\x20candle\x20for\x20','gjgcd','ExIqX','TQtHT','openDB','fUWIT','No\x20gap\x20found.\x20Returning\x20full\x20data\x20from\x20cache.','FBZqi','hVOGt','multiplier','forEach','text','[WORKER]\x20Fetch\x20for\x20','YtaIA','SgPiy','OFFLINE','698380WhksaX','[WORKER\x20HYBRID\x20v4\x20FINAL]\x20For\x20','GVUBX','tKOoj','yNmVf','FmCoL','363999GmeKZy','[findValidCachedSegment]\x20Знайдено\x20пошкоджені\x20дані\x20на\x20індексі\x20','maxInitialCandles','https://api.binance.com/api/v3/klines?symbol=','pwZvZ','pJMLU','[WORKER-DB]\x20Creating\x20new\x20database\x20structure\x20for\x20','devH1','hQqOG','[WORKER]\x20Suspicious\x20response\x20for\x20','the\x20beginning','message','onmessage','.\x20Сегмент\x20буде\x20обрізано.','ADHCQ','[WORKER]\x20Executing\x20FINAL,\x20single-request\x20logic\x20for\x20fetchGapData:\x20','ZEpwY','hdxZm','isOnline','Ucvib','fetchGapData','NZPdD','split','yYqer','\x20returned\x20','BRDPe','lLzBi','reduce','isArray','firstIndexWithoutCloudSizeData','BinanceChartsDB_v_','Sufficient\x20historical\x20data\x20found\x20in\x20cache\x20for\x20this\x20window.','eBYYd','cEXFe','keyPath','done','time','max','deleteObjectStore','wLlQh','bgGIV','yuxOH','zCiAk','ONLINE','fetchAuthoritativeCandle','by-symbol-interval-time','PRfRw','contains','lower','ZxCuq','[WORKER-DB]\x20Successfully\x20saved\x20','Offline','Gap\x20detected.\x20Missing\x20','\x20new\x20candles\x20for\x20the\x20tail.','vbQZm','requestContext','iuMzT','30m','vIaUb','nvadB','\x20before\x20saving\x20to\x20cache.','log','Fetching\x20historical\x20block\x20from\x20API\x20and\x20caching\x20it.','devL1','VlsmH','qdyjs','map','floor','mbqVx','length','koHZy',',\x20got\x20','sort','enabled','\x20є\x20валідним.','getAllFromIndex','\x20closed\x20candles\x20to\x20cache\x20for\x20','ceil','ASPFy','Jfsek','BPbSB','awnfb','dailySeparator','QkvJV','getUTCMinutes','hma55','postMessage','kgkFP','YieVT','json','createObjectStore','Wwcym','%cAttempting\x20to\x20resample\x20tail\x20from\x20FRESH\x201h\x20cache.','yYuGL','eDdUf','PXIUd','142176AnvunQ','\x20deleted.\x20Please\x20reload.','EYcNm','get','20zXdzmD','TGlIJ','value','Web\x20Worker\x20initialized\x20and\x20ready\x20(','179','[WORKER]\x20Delta\x20request.\x20Calculated\x20expected\x20count:\x20','devH5','uyGNL','yOTeI','slice','bzeSl','Optimized\x20cache\x20query\x20window\x20for\x20','filter','164281LJkflX','LviRC','success','Ajatk','Unknown\x20command:\x20','[WORKER]\x20Deleting\x20entire\x20IndexedDB\x20database:\x20','Fallback\x20to\x20API:\x20','close','VpNlc','symbol','GsGQW','oaGTF','toISOString','wVYAR','uujFB','SETMg','RsUWp','continue','Недостатньо\x20даних\x20для\x20розрахунку\x20SMA(20).\x20Потрібно\x20>=\x2020\x20свічок,\x20є:','[WORKER\x20WINDOW\x20v5\x20FINAL-LOGIC]\x20For\x20','DZYmq','LVbVv','hasOwnProperty','Fetching\x20latest\x20delta\x20for\x20','cvMmL','bZdsm','Npqry','...','sqrVX','emaLength','[findValidCachedSegment]\x20Знайдено\x20розрив.\x20Повертається\x20суцільний\x20сегмент\x20довжиною:\x20','alive','low','zWrDV','dDTMp','ufYWO','threeEma','EYgJa','belowBar','30XgxvcC','freshnessToken','OTgbF','Database\x20','20kUMAUJ','updateNetworkState','FRDsl','#CACACA','interval','data','[WORKER-DB]\x20Deleted\x20all\x20cached\x20data\x20for\x20','ohNMH','VRWkY','[findValidCachedSegment]\x20Неможливо\x20перевірити\x20суцільність\x20для\x20невідомого\x20інтервалу:\x20','object','[WORKER]\x20Single\x20request\x20for\x20gap\x20for\x20','devL8','smXCk','color:\x20orange;\x20font-weight:\x20bold;','call','color','[WORKER\x20HYBRID\x20v179_FIXED]\x20For\x20','JwRKU','number','requestId','transaction','hDxgG','KyOXP','rJpGh','devH4','vkIhC','objectStoreNames','status','indicators','acOqE','BBvUW','devH6','cacheTimestamp','min','xOZNY','.\x20Requesting\x20with\x20limit:\x20','\x20at\x20','fetchWindowData','createIndex','devH2','FaVhK','[WORKER]\x20Network\x20error\x20for\x20','18EAkstq','hxrWz','vtdax','VlfrE','volumeMarkers','getUTCHours','open','gAJjO','JHnWs','groupEnd','816680sAqwgm','ZgodX','204RaxVSi','\x20valid\x20continuous\x20candles\x20in\x20IndexedDB.','MLMNS','color:\x20green;','nrZBn','candles','TjIdz','GkkLd','ecEMF','LMMfp','MturB','[WORKER-DB]\x20Received\x20request\x20to\x20delete\x20data\x20for\x20tickers:\x20','gafOL','HzzWz','index','[WORKER]\x20fetchAuthoritativeCandle:\x20No\x20data\x20returned\x20from\x20API\x20for\x20','ZjrGW','Binance\x20API\x20Error\x20on\x20retry\x20','shape','rBdZL','error','bMIsg','hlYKP','tZDaU','high','[findValidCachedSegment]\x20Розривів\x20не\x20знайдено.\x20Весь\x20сегмент\x20довжиною\x20','zKCdn','middle','Fallback\x20to\x20API:\x201h\x20cache\x20is\x20stale,\x20for\x20another\x20symbol,\x20or\x20doesn\x27t\x20cover\x20the\x20required\x20period.','bound','reachedEnd','&startTime=','mIzjR','[WORKER]\x20Network\x20state\x20updated\x20to:\x20','rPEOQ','tdvgP'];_0x3f03=function(){return _0x392aa9;};return _0x3f03();}function calculateHMA(_0x568a31,_0x52418e){const _0x1ba030=_0x17ea38,_0x324190={};_0x324190['xeRQs']=function(_0x1c718d,_0x5b7b58){return _0x1c718d===_0x5b7b58;},_0x324190[_0x1ba030(0xe5)]=function(_0x1c9f3b,_0x4aa95a){return _0x1c9f3b<_0x4aa95a;},_0x324190[_0x1ba030(0xd4)]=function(_0x52e3d8,_0xc8a71d){return _0x52e3d8===_0xc8a71d;},_0x324190[_0x1ba030(0x186)]=function(_0x33cf9b,_0x243fde){return _0x33cf9b<_0x243fde;};const _0x4b2014=_0x324190;if(!_0x568a31||_0x4b2014['xeRQs'](_0x568a31[_0x1ba030(0x1cf)],0x1317+0xf5e+0x1*-0x2275))return[];const _0x13da20=_0x52418e,_0x295586=Math[_0x1ba030(0x1cd)](_0x13da20/(-0x260f+-0x1ced+0x42fe)),_0x15031a=Math['floor'](Math[_0x1ba030(0x169)](_0x13da20));if(_0x13da20<0x92f*-0x2+-0x1e75+0x32*0xfa||_0x295586<-0xa93+0x2*0xf12+-0x139*0x10||_0x4b2014['xOZNY'](_0x15031a,-0x17af*-0x1+0x23e7+0x883*-0x7)||_0x568a31[_0x1ba030(0x1cf)]<_0x13da20+_0x15031a-(0x38e+0x918+-0xca5))return[];const _0x429fbc=_0x568a31[_0x1ba030(0x1cc)](_0x4665a2=>({'time':_0x4665a2[_0x1ba030(0x1ae)],'close':_0x4665a2['close']})),_0xb07308=calculateWMA(_0x429fbc,_0x295586);if(_0x4b2014[_0x1ba030(0xd4)](_0xb07308['length'],-0x10a*0x2+0x5*-0x5cf+0x1f1f*0x1))return[];const _0x430831=calculateWMA(_0x429fbc,_0x13da20);if(_0x430831[_0x1ba030(0x1cf)]===0xcd*0x25+0x1f54+0x3cf5*-0x1)return[];const _0x4bbe12=[],_0x5388a0=new Map(_0x430831[_0x1ba030(0x1cc)](_0x58d835=>[_0x58d835[_0x1ba030(0x1ae)],_0x58d835[_0x1ba030(0x1f0)]]));for(const _0x1a95c2 of _0xb07308){const _0x57d4d7=_0x5388a0[_0x1ba030(0x1ed)](_0x1a95c2[_0x1ba030(0x1ae)]);if(_0x57d4d7!==undefined){const _0x503557={};_0x503557[_0x1ba030(0x1ae)]=_0x1a95c2[_0x1ba030(0x1ae)],_0x503557[_0x1ba030(0x202)]=(-0x1fbb+-0x2177+-0x282*-0x1a)*_0x1a95c2[_0x1ba030(0x1f0)]-_0x57d4d7,_0x4bbe12['push'](_0x503557);}}if(_0x4b2014[_0x1ba030(0x186)](_0x4bbe12['length'],_0x15031a))return[];return calculateWMA(_0x4bbe12,_0x15031a);}function calculateSMA_Series(_0x47889e,_0x1457b8){const _0x35ddcf=_0x17ea38,_0x1cb70f={};_0x1cb70f[_0x35ddcf(0x1e2)]=function(_0x281e96,_0x5bfcc0){return _0x281e96<_0x5bfcc0;},_0x1cb70f[_0x35ddcf(0xc9)]=function(_0x4763be,_0x56b5f3){return _0x4763be-_0x56b5f3;};const _0x5208a3=_0x1cb70f;if(!_0x47889e||!Array[_0x35ddcf(0x1a6)](_0x47889e)||_0x47889e[_0x35ddcf(0x1cf)]<_0x1457b8)return[];const _0x295067=[],_0x1f8640=_0x47889e['filter'](_0xd00788=>typeof _0xd00788[_0x35ddcf(0x1f0)]===_0x35ddcf(0xd5));if(_0x5208a3[_0x35ddcf(0x1e2)](_0x1f8640['length'],_0x1457b8))return[];for(let _0x2de2a3=_0x1457b8-(0x13b5+-0x1a42+-0x1*-0x68e);_0x2de2a3<_0x1f8640[_0x35ddcf(0x1cf)];_0x2de2a3++){const _0x57da54=_0x1f8640[_0x35ddcf(0x1f7)](_0x5208a3[_0x35ddcf(0xc9)](_0x2de2a3,_0x1457b8)+(-0x1436+-0x1248+-0x3*-0xcd5),_0x2de2a3+(-0x16d2+-0x32a*-0xb+0xbfb*-0x1))[_0x35ddcf(0x1cc)](_0x15cac9=>_0x15cac9[_0x35ddcf(0x1f0)]),_0x40fc67=_0x57da54['reduce']((_0x389ea4,_0x34a2f1)=>_0x389ea4+_0x34a2f1,0x3*0x44a+0x1c7e+-0xa57*0x4),_0x52063a={};_0x52063a[_0x35ddcf(0x1ae)]=_0x1f8640[_0x2de2a3]['time'],_0x52063a[_0x35ddcf(0x1f0)]=_0x40fc67/_0x1457b8,_0x295067[_0x35ddcf(0x13e)](_0x52063a);}return _0x295067;}function _processChartData(_0xae2b40,_0x5036ee,_0x1d24d1){const _0x250a39=_0x17ea38,_0x49c232={'ZjrGW':function(_0x2270eb,_0x1a2a65){return _0x2270eb*_0x1a2a65;},'RsUWp':function(_0x3276a9,_0xf3a295){return _0x3276a9>_0xf3a295;},'FBZqi':function(_0x1bc533,_0x587350){return _0x1bc533!==_0x587350;},'HnXlT':_0x250a39(0x203),'yNmVf':function(_0x433ba1,_0xf8c77a){return _0x433ba1-_0xf8c77a;},'JHnWs':function(_0x1eab03,_0x2a2f8f){return _0x1eab03>_0x2a2f8f;},'AKaZf':function(_0x1d200d,_0x206375){return _0x1d200d===_0x206375;},'bUBzc':_0x250a39(0xd5),'cEqpj':function(_0x51b55f,_0x417e6f){return _0x51b55f>_0x417e6f;},'Ibyel':_0x250a39(0xc5),'ufYWO':_0x250a39(0xfc),'qzOpC':function(_0x4a6ae8,_0x54153f,_0x1e04fe,_0x29c218){return _0x4a6ae8(_0x54153f,_0x1e04fe,_0x29c218);},'bMIsg':function(_0x3340a9,_0x2bcad4){return _0x3340a9*_0x2bcad4;},'xQSOB':function(_0x414203,_0x20f663){return _0x414203-_0x20f663;},'DZYmq':function(_0x5b65dd,_0x53da79){return _0x5b65dd+_0x53da79;},'bgGIV':function(_0x3c3be5,_0x3b01e5){return _0x3c3be5*_0x3b01e5;},'ZgodX':function(_0x551da6,_0x3e473e,_0x9889dc){return _0x551da6(_0x3e473e,_0x9889dc);},'Dsfwc':function(_0x279d80,_0x4bfecc){return _0x279d80!==_0x4bfecc;},'rtHlD':function(_0x471d77,_0x48c9b6){return _0x471d77-_0x48c9b6;},'SgALR':function(_0x281095,_0x58d095){return _0x281095<_0x58d095;},'OTgbF':function(_0x22ad5c,_0x48e93f){return _0x22ad5c!==_0x48e93f;},'cvMmL':function(_0x71d306,_0x4dd42f){return _0x71d306!==_0x4dd42f;},'tSVfA':'UKJdC','kgkFP':function(_0x35b275,_0x54846a){return _0x35b275*_0x54846a;},'eBYYd':_0x250a39(0x208),'PAkzW':_0x250a39(0x1c3),'wLlQh':_0x250a39(0x136),'PcxVj':_0x250a39(0xf1),'rhbXX':_0x250a39(0x120),'UXCxA':'VqAGo'};if(!_0xae2b40||_0xae2b40['length']===0xf88*-0x2+-0x1e53+0x3d63){const _0x439d5f={};return _0x439d5f[_0x250a39(0x125)]=[],_0x439d5f['indicators']={},_0x439d5f['firstIndexWithoutCloudSizeData']=0x0,_0x439d5f;}const _0x40e832={};_0x40e832['bb']=calculateBollingerBands(_0xae2b40,_0x5036ee['bb']['length'],_0x5036ee['bb'][_0x250a39(0x17d)]),_0x40e832['hma25']=calculateHMA(_0xae2b40,-0x26cb+0x1f75+0x76f),_0x40e832[_0x250a39(0x128)]=calculateHMA(_0xae2b40,0xb*0x2a1+0x7*0x126+-0x26*0xf8),_0x40e832[_0x250a39(0x1df)]=calculateHMA(_0xae2b40,0x1f62+-0x1e24+-0x107),_0x40e832['hma80']=calculateHMA(_0xae2b40,0x10eb+-0x1*-0x1fa7+0x8e*-0x57),_0x40e832['hma100']=_0x49c232[_0x250a39(0xf8)](calculateHMA,_0xae2b40,0x204*-0x7+0xd2+0xdae);const _0x2b0e40=[];if(_0x40e832[_0x250a39(0x12b)][_0x250a39(0x1cf)]>0x5c0*0x2+0xd*-0x1da+-0xc92*-0x1&&_0x40e832['hma55']['length']>-0x8*0x20b+-0xaac+0x1b04){const _0x50ad68=new Map(_0x40e832[_0x250a39(0x1df)][_0x250a39(0x1cc)](_0x1e5e0d=>[_0x1e5e0d[_0x250a39(0x1ae)],_0x1e5e0d[_0x250a39(0x1f0)]]));for(const _0x51c74a of _0x40e832[_0x250a39(0x12b)]){const _0x2657ba=_0x50ad68[_0x250a39(0x1ed)](_0x51c74a[_0x250a39(0x1ae)]);if(_0x49c232['Dsfwc'](_0x2657ba,undefined)){const _0x358736={};_0x358736[_0x250a39(0x1ae)]=_0x51c74a[_0x250a39(0x1ae)],_0x358736['value']=(-0x4a*0x17+-0x25*-0x3c+-0x204)*_0x51c74a[_0x250a39(0x1f0)]-_0x2657ba,_0x2b0e40[_0x250a39(0x13e)](_0x358736);}}}_0x40e832[_0x250a39(0x126)]=_0x2b0e40;_0x5036ee[_0x250a39(0x13f)][_0x250a39(0x1d3)]?_0x40e832[_0x250a39(0x13f)]=calculateEMA(_0xae2b40,_0x5036ee[_0x250a39(0x13f)]['length']):_0x40e832[_0x250a39(0x13f)]=[];_0x40e832[_0x250a39(0xbb)]=calculateEMA(_0xae2b40,_0x5036ee[_0x250a39(0x16c)][_0x250a39(0xb4)]);const _0x50cc94=_0x5036ee[_0x250a39(0x16c)]['emaLength']*(-0xd94+-0x3e3+0x1*0x1179),_0x2f3d3d=_0x49c232[_0x250a39(0xf8)](calculateStDev,_0xae2b40,_0x50cc94);_0x40e832[_0x250a39(0x161)]=_0x2f3d3d[_0x250a39(0x1cc)](_0x1c1893=>({'time':_0x1c1893[_0x250a39(0x1ae)],'value':_0x1c1893[_0x250a39(0x1f0)]/(-0x14b*0x2+0x2*-0x675+0xf84)}));const _0x460dae=[],_0x371cb8=[],_0x39e499=[],_0x5d485e=[],_0x58dc71=[],_0x524a0c=[],_0x45147b=[],_0x3549d3=[],_0x4f1208=[],_0x1496ad=[],_0x15f024=[],_0xfeddb5=[],_0x4db71a=new Map(_0x40e832[_0x250a39(0xbb)][_0x250a39(0x1cc)](_0x1ad561=>[_0x1ad561['time'],_0x1ad561['value']])),_0x572f87=new Map(_0x40e832[_0x250a39(0x161)][_0x250a39(0x1cc)](_0x432ea0=>[_0x432ea0[_0x250a39(0x1ae)],_0x432ea0['value']]));let _0x42f479=null,_0x36280b=![];const _0x304639=_0x49c232['rtHlD'](_0x50cc94,0x25cc+-0xa*0x373+0x34d*-0x1);for(let _0x4d8191=0x24be+-0x4*-0x9a1+-0x4b42;_0x49c232[_0x250a39(0x137)](_0x4d8191,_0xae2b40[_0x250a39(0x1cf)]);_0x4d8191++){const _0x5292f1=_0xae2b40[_0x4d8191][_0x250a39(0x1ae)],_0x415b35=_0x4db71a[_0x250a39(0x1ed)](_0x5292f1),_0x1c552e=_0x572f87[_0x250a39(0x1ed)](_0x5292f1);if(_0x49c232[_0x250a39(0xc0)](_0x415b35,undefined)&&_0x1c552e!==undefined&&_0x1c552e!==0x13*-0x8b+-0x1*-0x14ba+0x215*-0x5){if(_0x49c232[_0x250a39(0xaf)](_0x49c232['tSVfA'],_0x250a39(0x15b))){_0x460dae[_0x250a39(0x13e)]({'time':_0x5292f1,'value':_0x49c232[_0x250a39(0x188)](_0x415b35,_0x1c552e*THREE_EMA_LENGTH_R1)});const _0x4afd37={};_0x4afd37['time']=_0x5292f1,_0x4afd37[_0x250a39(0x1f0)]=_0x415b35+_0x1c552e*THREE_EMA_LENGTH_R1,_0x371cb8['push'](_0x4afd37);const _0x3c527b={};_0x3c527b[_0x250a39(0x1ae)]=_0x5292f1,_0x3c527b[_0x250a39(0x1f0)]=_0x415b35-_0x1c552e*THREE_EMA_LENGTH_R2,_0x39e499['push'](_0x3c527b),_0x5d485e[_0x250a39(0x13e)]({'time':_0x5292f1,'value':_0x415b35+_0x49c232[_0x250a39(0x1b2)](_0x1c552e,THREE_EMA_LENGTH_R2)}),_0x58dc71['push']({'time':_0x5292f1,'value':_0x49c232[_0x250a39(0x16e)](_0x415b35,_0x49c232[_0x250a39(0x1b2)](_0x1c552e,KL_DEV_OUTER_L4))}),_0x524a0c[_0x250a39(0x13e)]({'time':_0x5292f1,'value':_0x49c232['DZYmq'](_0x415b35,_0x1c552e*KL_DEV_OUTER_L4)});const _0x5c07c8={};_0x5c07c8['time']=_0x5292f1,_0x5c07c8['value']=_0x415b35-_0x1c552e*KL_DEV_OUTER_L5,_0x45147b[_0x250a39(0x13e)](_0x5c07c8);const _0x301b49={};_0x301b49[_0x250a39(0x1ae)]=_0x5292f1,_0x301b49[_0x250a39(0x1f0)]=_0x415b35+_0x1c552e*KL_DEV_OUTER_L5,_0x3549d3[_0x250a39(0x13e)](_0x301b49);const _0x2eac92={};_0x2eac92[_0x250a39(0x1ae)]=_0x5292f1,_0x2eac92['value']=_0x415b35-_0x1c552e*KL_DEV_OUTER_L6,_0x4f1208[_0x250a39(0x13e)](_0x2eac92),_0x1496ad['push']({'time':_0x5292f1,'value':_0x415b35+_0x49c232[_0x250a39(0x1e1)](_0x1c552e,KL_DEV_OUTER_L6)});const _0xd98b88={};_0xd98b88['time']=_0x5292f1,_0xd98b88['value']=_0x415b35-_0x1c552e*KL_DEV_OUTER_L8,_0x15f024[_0x250a39(0x13e)](_0xd98b88);const _0x91be5c={};_0x91be5c[_0x250a39(0x1ae)]=_0x5292f1,_0x91be5c[_0x250a39(0x1f0)]=_0x415b35+_0x1c552e*KL_DEV_OUTER_L8,_0xfeddb5[_0x250a39(0x13e)](_0x91be5c);}else return[..._0x27b9a1||[]];}else _0x4d8191>=_0x304639&&!_0x36280b&&(_0x42f479=_0x4d8191,_0x36280b=!![]);}_0x42f479===null&&(_0x250a39(0x208)!==_0x49c232[_0x250a39(0x1aa)]?_0x8ee215[_0x250a39(0x13f)]=_0x20c0b7(_0x1df505,_0x4149ff[_0x250a39(0x13f)][_0x250a39(0x1cf)]):_0x42f479=_0xae2b40[_0x250a39(0x1cf)]>-0xae4*-0x1+-0x17f0+0x686*0x2?_0xae2b40['length']:-0x3b9*0xa+-0x18*0x11e+0x400a);_0x40e832[_0x250a39(0x1c9)]=_0x460dae,_0x40e832[_0x250a39(0x191)]=_0x371cb8,_0x40e832['devL2']=_0x39e499,_0x40e832[_0x250a39(0xea)]=_0x5d485e,_0x40e832[_0x250a39(0x15f)]=_0x58dc71,_0x40e832[_0x250a39(0xdb)]=_0x524a0c,_0x40e832['devL5']=_0x45147b,_0x40e832[_0x250a39(0x1f4)]=_0x3549d3,_0x40e832[_0x250a39(0x163)]=_0x4f1208,_0x40e832[_0x250a39(0xe2)]=_0x1496ad,_0x40e832[_0x250a39(0xce)]=_0x15f024,_0x40e832['devH8']=_0xfeddb5;const _0x37cd7a=[],_0xcb720a=_0xae2b40[_0x250a39(0x1fa)](_0x1248f9=>typeof _0x1248f9[_0x250a39(0x133)]===_0x250a39(0xd5)&&_0x1248f9[_0x250a39(0x133)]>=-0x1760+-0x2f1*-0xa+-0x1*0x60a)['map'](_0x1e5a2e=>({'time':_0x1e5a2e['time'],'value':_0x1e5a2e[_0x250a39(0x133)]}));if(_0xcb720a[_0x250a39(0x1cf)]>=0x18c7+0x6*0x5cd+-0x3b81){const _0x2ba652=calculateSMA_Series(_0xcb720a,-0x2*0x691+0x1c02+-0xecc),_0x3ffde5=new Map(_0x2ba652[_0x250a39(0x1cc)](_0x59e49a=>[_0x59e49a[_0x250a39(0x1ae)],_0x59e49a[_0x250a39(0x1f0)]]));_0xae2b40[_0x250a39(0x17e)]((_0x4b9530,_0x18f144)=>{const _0x59443b=_0x250a39;if(_0x59443b(0x151)===_0x59443b(0x13a))_0x371316=!![];else{if(typeof _0x4b9530[_0x59443b(0x133)]===_0x59443b(0xd5)&&_0x49c232[_0x59443b(0xa7)](_0x4b9530[_0x59443b(0x133)],-0x92b+-0x404+-0x1*-0xd2f)){if(_0x49c232[_0x59443b(0x17b)](_0x49c232['HnXlT'],_0x59443b(0xca))){const _0x4d202e=_0x3ffde5[_0x59443b(0x1ed)](_0x4b9530['time']),_0x3b6c4b=_0x18f144<0x1d*0xfd+-0x1*0x727+-0x157d*0x1||_0x18f144>_0x49c232[_0x59443b(0x188)](_0xae2b40['length'],-0xdf6+-0x926*0x4+-0x34*-0xf9)||typeof _0x4d202e===_0x59443b(0xd5)&&_0x49c232[_0x59443b(0xf5)](_0x4b9530['volume'],(-0xa62+-0x42f+0xe92+0.8)*_0x4d202e);if(_0x49c232[_0x59443b(0x11f)](typeof _0x4d202e,_0x49c232['bUBzc'])&&_0x49c232['cEqpj'](_0x4d202e,0x22bf+-0xc19+-0xdf*0x1a)){if(_0x4b9530['volume']>_0x49c232[_0x59443b(0x109)](0x836*0x1+0xdc4+-0x15f8+0.5,_0x4d202e)){const _0xfd955e={};_0xfd955e['time']=_0x4b9530['time'],_0xfd955e[_0x59443b(0x152)]=_0x59443b(0xbd),_0xfd955e[_0x59443b(0xd2)]=_0x49c232[_0x59443b(0x157)],_0xfd955e[_0x59443b(0x10b)]='',_0xfd955e[_0x59443b(0x17f)]='◈',_0x37cd7a[_0x59443b(0x13e)](_0xfd955e);}else{if(_0x4b9530['volume']>(0x20e9+-0x1*0x595+0x5*-0x577+0.8)*_0x4d202e){const _0x96ec07={};_0x96ec07[_0x59443b(0x1ae)]=_0x4b9530[_0x59443b(0x1ae)],_0x96ec07[_0x59443b(0x152)]=_0x59443b(0xbd),_0x96ec07[_0x59443b(0xd2)]=_0x59443b(0xc5),_0x96ec07[_0x59443b(0x10b)]='',_0x96ec07[_0x59443b(0x17f)]='▴',_0x37cd7a[_0x59443b(0x13e)](_0x96ec07);}}}}else _0x46e835[_0x59443b(0x13e)]({'time':_0x4c59e8['time'],'value':_0x49c232[_0x59443b(0x109)](-0x2*0xf6b+0x463+0x1a75,_0x10c7ae[_0x59443b(0x1f0)])-_0x415e88});}}});}else console[_0x250a39(0x12d)](_0x250a39(0xa9),_0xcb720a[_0x250a39(0x1cf)]);_0x40e832[_0x250a39(0xf1)]=_0x37cd7a,_0x40e832[_0x250a39(0x120)]=[];const _0x2ad308=_0x5036ee[_0x250a39(0x1dc)],_0x2e27c0=['1m','5m',_0x250a39(0x156),_0x49c232[_0x250a39(0x11e)],'1h'];if(_0x2ad308&&_0x2ad308[_0x250a39(0x1d3)]&&_0x1d24d1&&_0x2e27c0[_0x250a39(0x12e)](_0x1d24d1)&&_0x49c232['JHnWs'](_0xae2b40[_0x250a39(0x1cf)],-0xaca+0xc9*0x17+-0x745)){if(_0x49c232[_0x250a39(0x11f)]('eDdUf',_0x250a39(0x1e8))){const _0x2b9fe6=[],[_0x216b6a,_0x33d8ee]=_0x2ad308[_0x250a39(0x1ae)][_0x250a39(0x1a0)](':')[_0x250a39(0x1cc)](Number);for(const _0x2fe084 of _0xae2b40){const _0x86f137=new Date(_0x2fe084['time']*(-0xfa0+-0x26c9*0x1+0x3a51)),_0x34e440=_0x86f137[_0x250a39(0xf2)](),_0x449a20=_0x86f137[_0x250a39(0x1de)](),_0xaf9af1=Math['abs'](_0x34e440*(0x1d5d+0xf01+-0x2c22)+_0x449a20-(_0x216b6a*(-0x25*-0x5d+0x1d5*-0x11+0x11f0*0x1)+_0x33d8ee));if(_0xaf9af1<=0x24a7+0x173a*0x1+-0x83*0x75){if(_0x250a39(0x164)!==_0x49c232[_0x250a39(0x1b1)]){const _0x15d37a={};_0x15d37a[_0x250a39(0x1ae)]=_0x2fe084[_0x250a39(0x1ae)],_0x15d37a[_0x250a39(0x152)]=_0x250a39(0xbd),_0x15d37a[_0x250a39(0xd2)]=_0x2ad308[_0x250a39(0xd2)],_0x15d37a[_0x250a39(0x10b)]='',_0x15d37a[_0x250a39(0x17f)]='◆',_0x2b9fe6['push'](_0x15d37a);}else _0x4fc507[_0x59de8c]=_0x5b181c[_0x531f30][_0x250a39(0x1fa)](_0x20367b=>_0x20367b&&typeof _0x20367b[_0x250a39(0x1f0)]===_0x250a39(0xd5)&&_0x1f2807(_0x20367b[_0x250a39(0x1f0)]));}}_0x2b9fe6[_0x250a39(0x1cf)]>0x1b1*0x7+-0x2*0xdfd+0x11*0xf3&&(_0x40e832[_0x250a39(0x120)]=_0x2b9fe6);}else _0x2166d3[_0x250a39(0x1c7)](_0x250a39(0x1e6),_0x49c232[_0x250a39(0xba)]),_0x2eae95=_0x49c232[_0x250a39(0x172)](_0x39155f,_0x22a8ae[_0x250a39(0xc7)],_0x5896a5,_0x56929f+(-0x1*-0x6e6+0x84f+-0xf34));}for(const _0x2f03f6 in _0x40e832){if(_0x2f03f6===_0x49c232['PcxVj']||_0x2f03f6===_0x49c232[_0x250a39(0x162)])continue;if(Object[_0x250a39(0xad)]['call'](_0x40e832,_0x2f03f6)){if(_0x250a39(0x1d8)!==_0x49c232['UXCxA']){const _0xe212f5=_0x40e832[_0x2f03f6];if(typeof _0xe212f5===_0x250a39(0xcc)&&!Array[_0x250a39(0x1a6)](_0xe212f5))for(const _0x274da6 in _0xe212f5){Object['hasOwnProperty'][_0x250a39(0xd1)](_0xe212f5,_0x274da6)&&Array[_0x250a39(0x1a6)](_0xe212f5[_0x274da6])&&(_0xe212f5[_0x274da6]=_0xe212f5[_0x274da6][_0x250a39(0x1fa)](_0x4f695e=>_0x4f695e&&typeof _0x4f695e['value']===_0x250a39(0xd5)&&isFinite(_0x4f695e[_0x250a39(0x1f0)])));}else{if(Array[_0x250a39(0x1a6)](_0xe212f5)){if(_0x250a39(0x175)!==_0x250a39(0x175)){const _0x1d7af3=[],[_0x2d7d83,_0x211e22]=_0xf75f9f[_0x250a39(0x1ae)][_0x250a39(0x1a0)](':')[_0x250a39(0x1cc)](_0x4d7bee);for(const _0x5755b5 of _0x127386){const _0x593657=new _0x4d6669(_0x49c232[_0x250a39(0x10e)](_0x5755b5[_0x250a39(0x1ae)],0x1497+-0xfd8+-0xd7)),_0x205db7=_0x593657['getUTCHours'](),_0x5485cb=_0x593657['getUTCMinutes'](),_0x49c577=_0x253c1c['abs'](_0x49c232['xQSOB'](_0x49c232[_0x250a39(0xab)](_0x49c232[_0x250a39(0x1b2)](_0x205db7,-0x1b72+-0x1*0x1d+0x1bcb),_0x5485cb),_0x2d7d83*(-0x1d67+0x5cc+0x17d7)+_0x211e22));if(_0x49c577<=-0x1002+0xa63+0x5a1){const _0x585c1c={};_0x585c1c['time']=_0x5755b5[_0x250a39(0x1ae)],_0x585c1c[_0x250a39(0x152)]=_0x250a39(0xbd),_0x585c1c[_0x250a39(0xd2)]=_0x50f5dc[_0x250a39(0xd2)],_0x585c1c[_0x250a39(0x10b)]='',_0x585c1c['text']='◆',_0x1d7af3['push'](_0x585c1c);}}_0x1d7af3[_0x250a39(0x1cf)]>0x1307+-0x5*0x258+-0x74f&&(_0x375134[_0x250a39(0x120)]=_0x1d7af3);}else _0x40e832[_0x2f03f6]=_0xe212f5[_0x250a39(0x1fa)](_0x2ab597=>_0x2ab597&&typeof _0x2ab597[_0x250a39(0x1f0)]===_0x250a39(0xd5)&&isFinite(_0x2ab597['value']));}}}else return _0x1db493[_0x250a39(0x12d)]('[findValidCachedSegment]\x20Неможливо\x20перевірити\x20суцільність\x20для\x20невідомого\x20інтервалу:\x20'+_0xc71c54),[];}}const _0x36e2f2={};return _0x36e2f2[_0x250a39(0x125)]=_0xae2b40,_0x36e2f2[_0x250a39(0xdf)]=_0x40e832,_0x36e2f2[_0x250a39(0x1a7)]=_0x42f479,_0x36e2f2;}async function handleClearDatabase(){const _0x31c4a8=_0x17ea38;console[_0x31c4a8(0x12d)](_0x31c4a8(0x200)+DB_NAME);if(dbPromise){const _0x106807=await dbPromise;_0x106807['close'](),dbPromise=null;}await idb[_0x31c4a8(0x150)](DB_NAME);const _0x5ec380={};return _0x5ec380[_0x31c4a8(0x1fd)]=!![],_0x5ec380[_0x31c4a8(0x195)]=_0x31c4a8(0xc1)+DB_NAME+_0x31c4a8(0x1eb),_0x5ec380;}function handleRecalculateIndicators({fullOhlcData:_0x257ffa,indicatorSettings:_0x14008b,interval:_0x3c9d83}){const _0x30cf74=_0x17ea38,_0x22dfd9={'MTrYM':function(_0x3c4744,_0x23b185,_0x4b9e71,_0x3f669b){return _0x3c4744(_0x23b185,_0x4b9e71,_0x3f669b);}};return _0x22dfd9[_0x30cf74(0x138)](_processChartData,_0x257ffa,_0x14008b,_0x3c9d83);}async function handleRemoveCoinsFromDB({tickers:_0x5af855}){const _0x503809=_0x17ea38,_0x84a585={};_0x84a585[_0x503809(0x146)]=function(_0x233732,_0x4c5fd2){return _0x233732*_0x4c5fd2;},_0x84a585[_0x503809(0x124)]=function(_0x408203,_0x53c912){return _0x408203-_0x53c912;},_0x84a585[_0x503809(0xb8)]='candles',_0x84a585[_0x503809(0x165)]='time',_0x84a585['dDTMp']=function(_0x21f494,_0x5bf37d){return _0x21f494===_0x5bf37d;};const _0x3af04b=_0x84a585;if(!_0x5af855||_0x5af855['length']===0xef1+0x1*-0x1418+-0x527*-0x1){if(_0x503809(0x1bb)===_0x503809(0x1bb)){const _0x332874={};return _0x332874[_0x503809(0x1fd)]=!![],_0x332874['message']='No\x20tickers\x20specified\x20for\x20deletion.',_0x332874['deletedCount']=0x0,_0x332874;}else{if(!_0x52ec4c||_0x33d396[_0x503809(0x1cf)]===-0x20b*-0x1+-0x5d7*-0x6+0xb*-0x35f)return[];const _0x69f3bc=_0x57a19a[_0x503809(0x1fa)](_0xe47a58=>typeof _0xe47a58[_0x503809(0x202)]===_0x503809(0xd5));if(_0x69f3bc['length']<_0x145817)return[];const _0x112a38=[],_0x35bab1=(-0x25*0xbb+-0x1367+0x2e70)/(_0x55b17f+(0xe70+-0x1*-0x5fe+-0x146d));let _0x5254b8=_0x69f3bc[_0x503809(0x1f7)](0x1d*-0xbf+0x2543+-0xfa0,_0x1fcf2c)[_0x503809(0x1a5)]((_0x5c3488,_0x4258a0)=>_0x5c3488+_0x4258a0[_0x503809(0x202)],-0x910+0x1a1e+-0x110e)/_0x5df153;const _0x32e078={};_0x32e078[_0x503809(0x1ae)]=_0x69f3bc[_0x2bd792-(0xd*0x17e+0xe78*0x2+-0x3055)][_0x503809(0x1ae)],_0x32e078[_0x503809(0x1f0)]=_0x5254b8,_0x112a38[_0x503809(0x13e)](_0x32e078);for(let _0x19a885=_0x56b1eb;_0x19a885<_0x69f3bc['length'];_0x19a885++){_0x5254b8=_0x3af04b['fhgRh'](_0x3af04b[_0x503809(0x124)](_0x69f3bc[_0x19a885][_0x503809(0x202)],_0x5254b8),_0x35bab1)+_0x5254b8;const _0x5e202f={};_0x5e202f[_0x503809(0x1ae)]=_0x69f3bc[_0x19a885][_0x503809(0x1ae)],_0x5e202f[_0x503809(0x1f0)]=_0x5254b8,_0x112a38[_0x503809(0x13e)](_0x5e202f);}return _0x112a38;}}console['log'](_0x503809(0x104)+_0x5af855[_0x503809(0x144)](',\x20'));const _0xff4961=await getDb(),_0x171eea=_0xff4961[_0x503809(0xd7)](_0x3af04b[_0x503809(0xb8)],_0x503809(0x143)),_0x2fd3cb=_0x171eea[_0x503809(0x171)][_0x503809(0x107)]('by-symbol-interval-time');let _0x941a5e=-0x1a94+-0x68e+-0x1091*-0x2;for(const _0x284be2 of _0x5af855){if(_0x3af04b[_0x503809(0xb9)]('soMaZ',_0x503809(0x1ab)))_0x47f718=_0x16f137[_0x503809(0x178)](_0x103253,-0x21*0x1f+-0x2*-0x868+-0xcd0,{'upgrade'(_0x29fca9){const _0x22f5a6=_0x503809;_0x1a3913[_0x22f5a6(0x1c7)]('[WORKER-DB]\x20Creating\x20new\x20database\x20structure\x20for\x20'+_0x1d6454);if(_0x29fca9[_0x22f5a6(0xdd)][_0x22f5a6(0x1b9)](_0x22f5a6(0xfe)))_0x29fca9[_0x22f5a6(0x1b0)](_0x22f5a6(0xfe));const _0x2dda15={};_0x2dda15[_0x22f5a6(0x1ac)]='id';const _0x1e9623=_0x29fca9[_0x22f5a6(0x1e4)](_0x3af04b[_0x22f5a6(0xb8)],_0x2dda15);_0x1e9623[_0x22f5a6(0xe9)](_0x22f5a6(0x1b7),[_0x22f5a6(0x204),_0x22f5a6(0xc6),_0x3af04b[_0x22f5a6(0x165)]]);}});else{const _0x2ae572=_0x284be2+_0x503809(0x173),_0x52d9f3=IDBKeyRange[_0x503809(0x116)]([_0x2ae572,''],[_0x2ae572,'￿']);let _0x2b2349=await _0x2fd3cb['openCursor'](_0x52d9f3);while(_0x2b2349){await _0x2b2349['delete'](),_0x941a5e++,_0x2b2349=await _0x2b2349[_0x503809(0xa8)]();}console['log'](_0x503809(0xc8)+_0x2ae572+'.');}}await _0x171eea[_0x503809(0x1ad)];const _0x450d81=_0x503809(0x14f)+_0x941a5e+'.';console['log']('[WORKER-DB]\x20'+_0x450d81);const _0x2f0759={};return _0x2f0759[_0x503809(0x1fd)]=!![],_0x2f0759[_0x503809(0x195)]=_0x450d81,_0x2f0759['deletedCount']=_0x941a5e,_0x2f0759;}function _0x54d4(_0x49ac39,_0x3838f2){const _0x5402b4=_0x3f03();return _0x54d4=function(_0x5c6d0b,_0x1a8eaa){_0x5c6d0b=_0x5c6d0b-(0x53d*-0x4+0xbe2+0x9b7);let _0x881e1a=_0x5402b4[_0x5c6d0b];return _0x881e1a;},_0x54d4(_0x49ac39,_0x3838f2);}function findValidCachedSegment(_0xdbb487,_0x4b0f5a){const _0x2e3b9d=_0x17ea38,_0x559e30={'MjSsc':function(_0x3c3f5e,_0x381cb1){return _0x3c3f5e-_0x381cb1;},'vbQZm':function(_0x36dcb4,_0x299258){return _0x36dcb4*_0x299258;},'ZvBvO':function(_0x13a23d,_0x3662f5){return _0x13a23d(_0x3662f5);},'YtaIA':_0x2e3b9d(0x1e7),'sPUvd':function(_0x1ccace,_0xd00c7e){return _0x1ccace||_0xd00c7e;},'ymuUd':_0x2e3b9d(0xd5),'dXXNH':function(_0x1131bb,_0x4027ef){return _0x1131bb-_0x4027ef;}};if(!_0xdbb487||_0xdbb487[_0x2e3b9d(0x1cf)]<-0x134e+0xa79*-0x3+0x32bb)return[..._0xdbb487||[]];const _0x1a896b=_0x559e30[_0x2e3b9d(0x16b)](getIntervalInSeconds,_0x4b0f5a);if(_0x1a896b===-0x1636+-0x1447+0x2a7d)return console[_0x2e3b9d(0x12d)](_0x2e3b9d(0xcb)+_0x4b0f5a),[];for(let _0x22cf91=-0xc32+-0x58*-0x22+0x2*0x41;_0x22cf91<_0x559e30['MjSsc'](_0xdbb487[_0x2e3b9d(0x1cf)],-0x11b6+-0x1da1+0x2f58);_0x22cf91++){if(_0x2e3b9d(0x1e7)===_0x559e30[_0x2e3b9d(0x181)]){const _0x737732=_0xdbb487[_0x22cf91],_0x32f20f=_0xdbb487[_0x22cf91+(-0x5*-0x6b5+0x12cb+-0x2f*0x11d)];if(_0x559e30['sPUvd'](!_0x737732,!_0x32f20f)||typeof _0x737732[_0x2e3b9d(0x1ae)]!==_0x559e30[_0x2e3b9d(0x16f)]||typeof _0x32f20f[_0x2e3b9d(0x1ae)]!==_0x2e3b9d(0xd5))return console[_0x2e3b9d(0x12d)]('[findValidCachedSegment]\x20Знайдено\x20пошкоджені\x20дані\x20на\x20індексі\x20'+_0x22cf91+_0x2e3b9d(0x197)),_0xdbb487[_0x2e3b9d(0x1f7)](0x126f+-0xffe+-0x271*0x1,_0x22cf91);const _0x4812d8=_0x32f20f[_0x2e3b9d(0x1ae)]-_0x737732[_0x2e3b9d(0x1ae)];if(Math[_0x2e3b9d(0x148)](_0x559e30['dXXNH'](_0x4812d8,_0x1a896b))>0x102b*-0x1+-0xc2e+0x1c5a){const _0x2c8277=_0xdbb487[_0x2e3b9d(0x1f7)](0x6dd*-0x5+-0x119b*-0x2+0xe5*-0x1,_0x22cf91+(-0x2122+-0x22f1*0x1+-0x4*-0x1105));return console['log'](_0x2e3b9d(0xb5)+_0x2c8277[_0x2e3b9d(0x1cf)]),_0x2c8277;}}else _0x33db67=_0x559e30['MjSsc'](_0x5bbea3,_0x559e30[_0x2e3b9d(0x1c0)](_0x24260d,_0x177c35));}return console['log'](_0x2e3b9d(0x112)+_0xdbb487[_0x2e3b9d(0x1cf)]+_0x2e3b9d(0x1d4)),_0xdbb487;}function createOptimizedKeyRange(_0x510ec3,_0x3a5c54,_0x32f6db,_0x4bea22=-0x1f*-0x86+-0x20c2+0x1088){const _0x1eb950=_0x17ea38,_0x32ed46={};_0x32ed46[_0x1eb950(0xef)]=function(_0x160c80,_0x243218){return _0x160c80+_0x243218;},_0x32ed46['zKCdn']=function(_0x542fff,_0xeefab8){return _0x542fff===_0xeefab8;},_0x32ed46[_0x1eb950(0xb3)]=_0x1eb950(0x10c),_0x32ed46['Jfsek']=function(_0x552faa,_0x181c91){return _0x552faa*_0x181c91;};const _0x1db4ca=_0x32ed46,_0x399230=getIntervalInSeconds(_0x3a5c54),_0x58c343=Math[_0x1eb950(0x1cd)](_0x32f6db*_0x1db4ca['vtdax'](-0x61b*0x2+0x2197+0x12*-0x130,_0x4bea22/(0x1887+-0x3e4+-0x143f))),_0x302e06=Math[_0x1eb950(0x1cd)](Date[_0x1eb950(0x134)]()/(-0x2*0x3c5+0x1cd0*0x1+-0x115e));let _0x1c7e30=-0x106b*-0x1+-0x487+0x2f9*-0x4;return _0x399230>=-0x5*-0x27c+-0x7c7*-0x5+0x25*-0x163&&(_0x1db4ca[_0x1eb950(0x113)](_0x1db4ca['sqrVX'],'fWzgA')?_0x2aafd2+=_0x258eae[_0x1eb950(0x202)]*_0x73f449[_0x2c263c-(-0x1*0x1dd+-0x260b+-0x27e9*-0x1)-_0x144ff5]:_0x1c7e30=_0x302e06-_0x58c343*_0x399230),console[_0x1eb950(0x1c7)](_0x1eb950(0x1f9)+_0x510ec3+'/'+_0x3a5c54+':\x20fetching\x20from\x20'+new Date(_0x1db4ca[_0x1eb950(0x1d9)](_0x1c7e30,0xd*-0x17a+-0x1*0x122b+0x2945))[_0x1eb950(0x207)]()),IDBKeyRange[_0x1eb950(0x116)]([_0x510ec3,_0x3a5c54,_0x1c7e30],[_0x510ec3,_0x3a5c54,_0x302e06]);}async function handleFetchWindowData({symbol:_0x141ca2,interval:_0x4da8ce,startTime:_0x485ce5,endTime:_0x1a1259}){const _0x53b884=_0x17ea38,_0x51b814={'bzeSl':function(_0x2ad21f,_0x232e26){return _0x2ad21f-_0x232e26;},'HrpdE':function(_0x1053b1,_0x1a4004){return _0x1053b1+_0x1a4004;},'hlYKP':function(_0x1d04ee,_0x54298b){return _0x1d04ee*_0x54298b;},'ecEMF':function(_0x2c63a9,_0x1b85d5){return _0x2c63a9-_0x1b85d5;},'fhgdl':function(_0xa08901,_0x3d09c4,_0x2b7a34){return _0xa08901(_0x3d09c4,_0x2b7a34);},'moRyB':function(_0x326b2b,_0x95f49b){return _0x326b2b>_0x95f49b;},'qdyjs':function(_0x1f88fc,_0xc1c704){return _0x1f88fc*_0xc1c704;},'SgPiy':function(_0x4ff5d6,_0x2c5ada){return _0x4ff5d6===_0x2c5ada;},'ulXaN':function(_0x249175){return _0x249175();},'EYgJa':function(_0x49c2bb,_0xda0af1){return _0x49c2bb>_0xda0af1;},'HzzWz':function(_0xc023c9,_0x3bf264){return _0xc023c9<_0x3bf264;},'QkvJV':function(_0x1eaceb,_0x379e12){return _0x1eaceb===_0x379e12;}};console['groupCollapsed'](_0x53b884(0xaa)+_0x141ca2+'/'+_0x4da8ce);const _0x4fa5d8=Math[_0x53b884(0x1cd)](Date[_0x53b884(0x134)]()/(-0x2582+0x183+0x27e7)),_0x5e3eb4=getIntervalInSeconds(_0x4da8ce);if(_0x4fa5d8-_0x1a1259<_0x5e3eb4*(-0xdd9*-0x1+-0x18a0+0xd5*0xd)){if(_0x53b884(0x1c5)===_0x53b884(0x189)){const _0x4ddc91=_0x53b884(0x166)[_0x53b884(0x1a0)]('|');let _0x305b1a=0x132d+0x167*-0x13+0x778;while(!![]){switch(_0x4ddc91[_0x305b1a++]){case'0':_0x1bd5fe[_0x53b884(0x13e)]({'time':_0x2a8b10,'value':_0x51b814[_0x53b884(0x1f8)](_0x2f9429,_0x4abe60*_0x3add16)});continue;case'1':_0x379b1f[_0x53b884(0x13e)]({'time':_0x3641b9,'value':_0x51b814['HrpdE'](_0x3edc68,_0x147eba*_0x35d328)});continue;case'2':_0x512654['push']({'time':_0x132150,'value':_0xe53cce-_0x51b814[_0x53b884(0x10f)](_0x5acb17,_0x1cec43)});continue;case'3':_0x51037c[_0x53b884(0x13e)]({'time':_0x143ce0,'value':_0x4e0c08+_0x51b814[_0x53b884(0x10f)](_0x284e96,_0x34e5a9)});continue;case'4':_0x1644de[_0x53b884(0x13e)]({'time':_0x233697,'value':_0x348943+_0x51b814[_0x53b884(0x10f)](_0x3eada7,_0xe4e171)});continue;case'5':const _0x59db14={};_0x59db14[_0x53b884(0x1ae)]=_0x20dd0f,_0x59db14['value']=_0x18b5b2+_0x338830*_0x2ed5e7,_0x348c86[_0x53b884(0x13e)](_0x59db14);continue;case'6':const _0x543356={};_0x543356['time']=_0x177381,_0x543356[_0x53b884(0x1f0)]=_0x1fa55d-_0x36755f*_0x2b85a6,_0x333a29[_0x53b884(0x13e)](_0x543356);continue;case'7':const _0x36e1e5={};_0x36e1e5[_0x53b884(0x1ae)]=_0x30562e,_0x36e1e5[_0x53b884(0x1f0)]=_0x3d3494+_0x2f95c2*_0x213555,_0x40641d[_0x53b884(0x13e)](_0x36e1e5);continue;case'8':const _0x2d16cc={};_0x2d16cc[_0x53b884(0x1ae)]=_0x2d6c69,_0x2d16cc['value']=_0x5342a9+_0x2c1820*_0x1e316e,_0x255824[_0x53b884(0x13e)](_0x2d16cc);continue;case'9':const _0x2a9257={};_0x2a9257[_0x53b884(0x1ae)]=_0x58dd19,_0x2a9257[_0x53b884(0x1f0)]=_0x34846f-_0x4ae44e*_0x1ac84d,_0x2368b6['push'](_0x2a9257);continue;case'10':_0x7182de[_0x53b884(0x13e)]({'time':_0xf4c381,'value':_0x51b814[_0x53b884(0x101)](_0x4ca1cb,_0x32d5c1*_0x1479f5)});continue;case'11':const _0x455de3={};_0x455de3['time']=_0x5e0b2f,_0x455de3[_0x53b884(0x1f0)]=_0x1341b1-_0x2684ba*_0x4b124d,_0x188719[_0x53b884(0x13e)](_0x455de3);continue;}break;}}else{console[_0x53b884(0x1c7)]('Window\x20request\x20is\x20for\x20the\x20LATEST\x20period.\x20Applying\x20DELTA\x20caching\x20logic.');const _0x3ba042=await getDb(),_0x4b5eb6=0x1982*0x1+-0x17*-0x67+0x3*-0xa49,_0xaa5903=createOptimizedKeyRange(_0x141ca2,_0x4da8ce,_0x4b5eb6),_0x4185b4=(await _0x3ba042[_0x53b884(0x1d5)]('candles','by-symbol-interval-time',_0xaa5903))[_0x53b884(0x1d2)]((_0x5e0ece,_0x17871c)=>_0x5e0ece[_0x53b884(0x1ae)]-_0x17871c[_0x53b884(0x1ae)]),_0x20513d=_0x51b814['fhgdl'](findValidCachedSegment,_0x4185b4,_0x4da8ce),_0x459a53=_0x20513d['length']>0x60f+-0x1*-0x14da+-0x1ae9?_0x20513d[_0x20513d['length']-(-0x189*-0x9+-0x1f90+-0x470*-0x4)][_0x53b884(0x1ae)]:-0x1*-0x1005+0x123d*-0x2+-0x1475*-0x1,_0x2ffdb2=_0x51b814['moRyB'](_0x459a53,-0x117a+0x3b5*-0x7+0x2b6d)?_0x51b814[_0x53b884(0x1cb)](_0x459a53,-0x3df*0x6+0x1829+0x2f9):null,_0x74fcd7=_0x51b814[_0x53b884(0x101)](_0x4fa5d8,_0x459a53),_0x39bcb6=Math[_0x53b884(0x1d7)](_0x74fcd7/_0x5e3eb4)+(-0x2251+-0x2349+0x459f*0x1),_0x1b3a19=Math[_0x53b884(0x1af)](0x72b+0x18e2+0x277*-0xd,_0x39bcb6);console[_0x53b884(0x1c7)](_0x53b884(0xae)+_0x141ca2+'/'+_0x4da8ce+'.\x20Estimated\x20missing:\x20'+_0x1b3a19+_0x53b884(0x15e));const _0x1801ae=await _fetchCandlestickData(_0x141ca2,_0x4da8ce,_0x1b3a19,null,_0x2ffdb2);if(_0x1801ae[_0x53b884(0x1cf)]>0x3*-0x5f9+-0x1387+0x2572){if(_0x51b814[_0x53b884(0x182)](_0x53b884(0x179),_0x53b884(0xff))){const _0x103c46={};return _0x103c46['ohlc']=[],_0x103c46[_0x53b884(0xdf)]={},_0x103c46['firstIndexWithoutCloudSizeData']=0x0,_0x103c46;}else await saveCandlesToDB(_0x1801ae,_0x141ca2,_0x4da8ce);}const _0x25c84f=[..._0x20513d,..._0x1801ae],_0x53f005=[...new Map(_0x25c84f[_0x53b884(0x1cc)](_0x188b62=>[_0x188b62[_0x53b884(0x1ae)],_0x188b62]))[_0x53b884(0x139)]()][_0x53b884(0x1d2)]((_0x54175d,_0x1d9246)=>_0x54175d[_0x53b884(0x1ae)]-_0x1d9246[_0x53b884(0x1ae)]);console['groupEnd']();const _0x4646b1=_0x53f005[_0x53b884(0x1cf)]<_0x4b5eb6;return{'ohlc':_0x53f005[_0x53b884(0x1f7)](-_0x4b5eb6),'reachedStart':_0x4646b1,'reachedEnd':!![]};}}else{console['log'](_0x53b884(0x130));let _0x3d04fb=[],_0x5b7c26=![];const _0x51a77c=![],_0x3247b5=await _0x51b814['ulXaN'](getDb),_0x11b8b7=IDBKeyRange['bound']([_0x141ca2,_0x4da8ce,_0x485ce5],[_0x141ca2,_0x4da8ce,_0x1a1259]),_0x43b984=(await _0x3247b5['getAllFromIndex'](_0x53b884(0xfe),_0x53b884(0x1b7),_0x11b8b7))[_0x53b884(0x1d2)]((_0x10a767,_0x1d1001)=>_0x10a767[_0x53b884(0x1ae)]-_0x1d1001[_0x53b884(0x1ae)]);if(_0x51b814[_0x53b884(0xbc)](_0x43b984[_0x53b884(0x1cf)],0x20b+-0x116e+-0x9f*-0x1f))console[_0x53b884(0x1c7)](_0x53b884(0x1a9)),_0x3d04fb=_0x43b984;else{if(_0x53b884(0x1db)!==_0x53b884(0x18f)){console[_0x53b884(0x1c7)](_0x53b884(0x1c8)),_0x3d04fb=await _fetchCandlestickData(_0x141ca2,_0x4da8ce,0x322+-0x63c+0x8a*0xd,_0x1a1259*(-0xce9+0x440+0xc91),_0x485ce5*(0x1*-0xb3+0x2ba+0x1e1)),await saveCandlesToDB(_0x3d04fb,_0x141ca2,_0x4da8ce);if(_0x51b814[_0x53b884(0x106)](_0x3d04fb[_0x53b884(0x1cf)],0x6d*0x2b+-0x7*-0x4bd+-0x2f9c)){if(_0x51b814[_0x53b884(0x1dd)](_0x53b884(0x176),_0x53b884(0xdc)))return[];else _0x5b7c26=!![];}}else{const _0x28b7d9={};_0x28b7d9[_0x53b884(0x1ae)]=_0x1bc103[_0x53b884(0x1ae)],_0x28b7d9[_0x53b884(0x152)]=_0x53b884(0xbd),_0x28b7d9[_0x53b884(0xd2)]=_0x162775[_0x53b884(0xd2)],_0x28b7d9[_0x53b884(0x10b)]='',_0x28b7d9[_0x53b884(0x17f)]='◆',_0x2b78ac['push'](_0x28b7d9);}}console[_0x53b884(0xf6)]();const _0x15ac76={};return _0x15ac76[_0x53b884(0x125)]=_0x3d04fb,_0x15ac76['reachedStart']=_0x5b7c26,_0x15ac76[_0x53b884(0x117)]=_0x51a77c,_0x15ac76;}}async function fetchInitialDataHybridly({symbol:_0x1aed21,interval:_0x371459,maxInitialCandles:_0xf6fb24,requestContext:_0x5a6562}){const _0x13d7fc=_0x17ea38,_0x4bdf8d={'yOTeI':function(_0x247fcb){return _0x247fcb();},'aBIdB':function(_0x1bb3db,_0x2da38a,_0x4a0e51){return _0x1bb3db(_0x2da38a,_0x4a0e51);},'LMMfp':function(_0xf831d9,_0x572645){return _0xf831d9(_0x572645);},'TQtHT':function(_0x23fb92,_0x45443d){return _0x23fb92-_0x45443d;}};console[_0x13d7fc(0x168)](_0x13d7fc(0x185)+_0x1aed21+'/'+_0x371459);const _0x2cae0b=await _0x4bdf8d[_0x13d7fc(0x1f6)](getDb),_0x287643=createOptimizedKeyRange(_0x1aed21,_0x371459,_0xf6fb24),_0x340e53=(await _0x2cae0b[_0x13d7fc(0x1d5)](_0x13d7fc(0xfe),_0x13d7fc(0x1b7),_0x287643))[_0x13d7fc(0x1d2)]((_0x20739b,_0x424f9c)=>_0x20739b[_0x13d7fc(0x1ae)]-_0x424f9c['time']),_0x4e9e86=_0x4bdf8d['aBIdB'](findValidCachedSegment,_0x340e53,_0x371459);console[_0x13d7fc(0x1c7)]('Found\x20'+_0x4e9e86[_0x13d7fc(0x1cf)]+_0x13d7fc(0xfa));const _0x42e808=_0xf6fb24-_0x4e9e86[_0x13d7fc(0x1cf)];if(_0x42e808<=0x146c+-0x135a+-0x112)return console[_0x13d7fc(0x1c7)](_0x13d7fc(0x17a)),console[_0x13d7fc(0xf6)](),_0x4e9e86[_0x13d7fc(0x1f7)](-_0xf6fb24);console[_0x13d7fc(0x1c7)](_0x13d7fc(0x1be)+_0x42e808+_0x13d7fc(0x15e));let _0x1aed77=[];const _0x1014e9=validResamplingTargets[_0x13d7fc(0x12e)](_0x371459);if(_0x1014e9){const _0x18ddf5=_0x42e808*(getIntervalInSeconds(_0x371459)/_0x4bdf8d[_0x13d7fc(0x102)](getIntervalInSeconds,BASE_TIMEFRAME)),_0x3585f6=_0x5a6562&&_0x5a6562[_0x13d7fc(0xbf)]&&_0x4bdf8d[_0x13d7fc(0x177)](_0x5a6562[_0x13d7fc(0xbf)],inMemoryBaseTfCache[_0x13d7fc(0xe3)])<CACHE_FRESHNESS_THRESHOLD_MS,_0x1575ff=_0x3585f6&&inMemoryBaseTfCache[_0x13d7fc(0x204)]===_0x1aed21&&inMemoryBaseTfCache['data'][_0x13d7fc(0x1cf)]>=_0x18ddf5;if(_0x1575ff)console['log'](_0x13d7fc(0x1e6),_0x13d7fc(0xfc)),_0x1aed77=resampleCandles(inMemoryBaseTfCache[_0x13d7fc(0xc7)],_0x371459,_0x42e808+(0x101*-0x1d+-0x26a*0x10+-0x29b*-0x1a));else{const _0x2c3bc5=!_0x3585f6?'cache\x20is\x20stale':_0x13d7fc(0x12f)+Math[_0x13d7fc(0x1d7)](_0x18ddf5)+_0x13d7fc(0x140)+inMemoryBaseTfCache[_0x13d7fc(0xc7)][_0x13d7fc(0x1cf)]+')';console['warn'](_0x13d7fc(0x201)+_0x2c3bc5+'.'),_0x1aed77=await _fetchCandlestickData(_0x1aed21,_0x371459,_0x42e808,null,null);}}else console['log']('Not\x20a\x20resampling\x20candidate.\x20Fetching\x20tail\x20from\x20API.'),_0x1aed77=await _fetchCandlestickData(_0x1aed21,_0x371459,_0x42e808,null,null);_0x1aed77[_0x13d7fc(0x1cf)]>0x1c82*-0x1+0x36f*-0x6+0x311c&&await saveCandlesToDB(_0x1aed77,_0x1aed21,_0x371459);const _0x12360a=[..._0x4e9e86,..._0x1aed77],_0x5aee77=[...new Map(_0x12360a[_0x13d7fc(0x1cc)](_0x18f68d=>[_0x18f68d[_0x13d7fc(0x1ae)],_0x18f68d]))[_0x13d7fc(0x139)]()]['sort']((_0x72658d,_0x533928)=>_0x72658d['time']-_0x533928[_0x13d7fc(0x1ae)]);return console[_0x13d7fc(0xf6)](),_0x5aee77;}async function handleGetInitialData({symbol:_0x4d378b,interval:_0x4105f9,indicatorSettings:_0x1a609e,maxInitialCandles:_0x39c6ea,requestContext:_0x8a3fe0}){const _0x471e8c=_0x17ea38,_0x2c1dc2={'GsGQW':_0x471e8c(0xd5),'gafOL':function(_0x427382,_0xeb75d6){return _0x427382/_0xeb75d6;},'rPEOQ':function(_0x21b71c,_0x26647a){return _0x21b71c>_0x26647a;},'zoxlB':'color:\x20green;','pwZvZ':function(_0x3fb24a,_0x3d3e86){return _0x3fb24a!==_0x3d3e86;},'EYcNm':function(_0x531c4c,_0x53b1dc){return _0x531c4c>_0x53b1dc;},'oEOdZ':_0x471e8c(0x123),'tZDaU':function(_0x5e6a3c,_0x32d8c6){return _0x5e6a3c(_0x32d8c6);},'twFGe':function(_0x2fd059){return _0x2fd059();}},_0x4a0677=async _0x4e8181=>{const _0x684cbe=_0x471e8c,_0x59c511={};_0x59c511[_0x684cbe(0xee)]=function(_0x3a2d2f,_0x3b6f9d){return _0x3a2d2f-_0x3b6f9d;},_0x59c511[_0x684cbe(0x1f5)]=function(_0x1c7a02,_0x562210){return _0x1c7a02/_0x562210;};const _0x532254=_0x59c511;console[_0x684cbe(0x168)](_0x684cbe(0xd3)+_0x4e8181[_0x684cbe(0x204)]+'/'+_0x4e8181[_0x684cbe(0xc6)]);const _0x52abe7=await getDb(),_0x1721ba=createOptimizedKeyRange(_0x4e8181[_0x684cbe(0x204)],_0x4e8181[_0x684cbe(0xc6)],_0x4e8181[_0x684cbe(0x18c)]),_0x1cee9b=(await _0x52abe7[_0x684cbe(0x1d5)](_0x684cbe(0xfe),'by-symbol-interval-time',_0x1721ba))['sort']((_0x3b9418,_0x158b18)=>_0x3b9418[_0x684cbe(0x1ae)]-_0x158b18[_0x684cbe(0x1ae)]),_0x5e501d=findValidCachedSegment(_0x1cee9b,_0x4e8181['interval']);console['log']('Found\x20'+_0x5e501d['length']+'\x20valid\x20continuous\x20candles\x20in\x20cache.');const _0x66acac=_0x2c1dc2[_0x684cbe(0x11b)](_0x5e501d[_0x684cbe(0x1cf)],0x1674+0x2*0x23e+-0x1af0)?_0x5e501d[_0x5e501d[_0x684cbe(0x1cf)]-(0x194+-0x166b+-0x29b*-0x8)][_0x684cbe(0x1ae)]:-0x26de+-0x3*0xb50+0x2*0x2467;let _0x2bfeae=[];const _0xc53c1d=validResamplingTargets['includes'](_0x4e8181['interval']),_0x11a3e9=-0x265*-0xf+0x202d+-0x4030;if(_0xc53c1d){console[_0x684cbe(0x1c7)]('Resampling\x20candidate.\x20Attempting\x20to\x20generate\x20tail\x20from\x201h\x20cache.');const _0x5ef413=_0x8a3fe0&&_0x8a3fe0[_0x684cbe(0xbf)]&&_0x8a3fe0[_0x684cbe(0xbf)]-inMemoryBaseTfCache['cacheTimestamp']<0x257e+-0x25e4+-0x9f7*-0x2,_0x50c861=inMemoryBaseTfCache[_0x684cbe(0xc7)]['length']>-0x21*0x39+-0x1*-0x1343+-0xbea?inMemoryBaseTfCache[_0x684cbe(0xc7)][-0x395*0x1+-0x1d*-0x5b+-0xe*0x7b]['time']:Infinity;if(_0x5ef413&&inMemoryBaseTfCache['symbol']===_0x4e8181[_0x684cbe(0x204)]&&_0x50c861<=_0x66acac)console[_0x684cbe(0x1c7)]('%c1h\x20cache\x20is\x20sufficient\x20and\x20fresh.\x20Generating\x20tail...',_0x2c1dc2[_0x684cbe(0x154)]),_0x2bfeae=resampleCandles(inMemoryBaseTfCache[_0x684cbe(0xc7)],_0x4e8181[_0x684cbe(0xc6)],_0x11a3e9),_0x2bfeae=_0x2bfeae[_0x684cbe(0x1fa)](_0x5ccac0=>_0x5ccac0['time']>=_0x66acac);else{console['warn'](_0x684cbe(0x115));const _0x17c339=_0x66acac>-0x2*-0xf17+-0x6a3*-0x2+-0x2b74?_0x66acac*(-0x1*-0x16a5+-0x1a76+0x293*0x3):null;_0x2bfeae=await _fetchCandlestickData(_0x4e8181[_0x684cbe(0x204)],_0x4e8181[_0x684cbe(0xc6)],_0x11a3e9,null,_0x17c339);}}else{if(_0x2c1dc2[_0x684cbe(0x18e)](_0x684cbe(0x1ca),_0x684cbe(0x1e9))){const _0x34c4e0=_0x66acac>0x2ae+0x92*0xd+-0xa18?_0x66acac*(0x1595+0x85*0x1d+-0x20be):null;console[_0x684cbe(0x1c7)]('Fetching\x20delta\x20for\x20'+_0x4e8181[_0x684cbe(0x204)]+'/'+_0x4e8181['interval']+_0x684cbe(0x155)+(_0x34c4e0?new Date(_0x34c4e0)[_0x684cbe(0x207)]():_0x684cbe(0x194))+'.'),_0x2bfeae=await _fetchCandlestickData(_0x4e8181[_0x684cbe(0x204)],_0x4e8181[_0x684cbe(0xc6)],_0x11a3e9,null,_0x34c4e0),console[_0x684cbe(0x1c7)]('API\x20returned\x20'+_0x2bfeae[_0x684cbe(0x1cf)]+_0x684cbe(0x1bf));}else{let _0x113a47=-0x2497+-0xbb5+0x304c*0x1;for(let _0x26549d=-0x47*0x89+-0x1*0x5f3+0x96*0x4b;_0x26549d<_0x5cbc9d;_0x26549d++){const _0x306a1b=_0x1dd421[_0x2b15c6-_0x26549d];if(_0x306a1b&&typeof _0x306a1b[_0x684cbe(0x202)]===_0x2c1dc2[_0x684cbe(0x205)])_0x113a47+=_0x306a1b[_0x684cbe(0x202)]*_0x8b71b3[_0x1e2b74-(-0x6b4+-0x1*-0x1c57+0x27*-0x8e)-_0x26549d];else return[];}_0xaece0d[_0x684cbe(0x13e)]({'time':_0x2ebfdd[_0x2642c8][_0x684cbe(0x1ae)],'value':_0x2c1dc2[_0x684cbe(0x105)](_0x113a47,_0x41e9b3)});}}if(_0x2c1dc2[_0x684cbe(0x1ec)](_0x2bfeae['length'],0x5bb*-0x5+0x1705*-0x1+0x33ac)){if(_0x2c1dc2['oEOdZ']===_0x684cbe(0x100)){if(!_0x377ffb||!_0x2c0652[_0x684cbe(0x1a6)](_0x5aa9ae)||_0x4bfb31[_0x684cbe(0x1cf)]<_0x576033)return[];const _0x18beff=[],_0x296bc9=_0x1c25cc['filter'](_0x30deb4=>typeof _0x30deb4[_0x684cbe(0x1f0)]===_0x684cbe(0xd5));if(_0x296bc9['length']<_0x218edc)return[];for(let _0x395bd1=_0x532254[_0x684cbe(0xee)](_0x1dfb15,-0x22e+0x9*0x257+-0x12e0);_0x395bd1<_0x296bc9[_0x684cbe(0x1cf)];_0x395bd1++){const _0x53d64a=_0x296bc9[_0x684cbe(0x1f7)](_0x395bd1-_0x9cfd88+(-0x1d7e+0x41d+0x1962),_0x395bd1+(-0x1105*0x1+0x85*0x2+0xffc))['map'](_0x53b768=>_0x53b768[_0x684cbe(0x1f0)]),_0x40bfda=_0x53d64a['reduce']((_0x479db0,_0x5f15d7)=>_0x479db0+_0x5f15d7,0x1250+0x1cd9+-0x2f29*0x1);_0x18beff[_0x684cbe(0x13e)]({'time':_0x296bc9[_0x395bd1]['time'],'value':_0x532254[_0x684cbe(0x1f5)](_0x40bfda,_0x25117c)});}return _0x18beff;}else await saveCandlesToDB(_0x2bfeae,_0x4e8181[_0x684cbe(0x204)],_0x4105f9);}const _0x9984b2=[..._0x5e501d,..._0x2bfeae],_0x5b20d2=[...new Map(_0x9984b2[_0x684cbe(0x1cc)](_0x2cec1c=>[_0x2cec1c[_0x684cbe(0x1ae)],_0x2cec1c]))[_0x684cbe(0x139)]()]['sort']((_0x578b1b,_0x2263f7)=>_0x578b1b[_0x684cbe(0x1ae)]-_0x2263f7[_0x684cbe(0x1ae)]);return console[_0x684cbe(0xf6)](),_0x5b20d2['slice'](-_0x4e8181[_0x684cbe(0x18c)]);};if(_0x4105f9===BASE_TIMEFRAME){if(_0x471e8c(0x132)===_0x471e8c(0x127)){_0x151fc2[_0x471e8c(0x10d)]('[WORKER]\x20Failed\x20to\x20fetch\x20authoritative\x20candle\x20for\x20'+_0x14e0f2+'/'+_0x3f5c8e,_0x1f6dd2);throw _0x59e84b;}else{const _0x4f2545=async()=>{const _0x1ed52c=_0x471e8c;try{if(_0x1ed52c(0x19d)===_0x1ed52c(0x19d)){const _0x4fc9a3={};_0x4fc9a3[_0x1ed52c(0x204)]=_0x4d378b,_0x4fc9a3['interval']=_0x4105f9,_0x4fc9a3[_0x1ed52c(0x18c)]=_0x39c6ea,_0x4fc9a3['requestContext']=_0x8a3fe0;const _0x59b7e4=await _0x2c1dc2[_0x1ed52c(0x110)](_0x4a0677,_0x4fc9a3);return inMemoryBaseTfCache={'symbol':_0x4d378b,'data':_0x59b7e4,'cacheTimestamp':Date[_0x1ed52c(0x134)]()},_processChartData(_0x59b7e4,_0x1a609e,_0x4105f9);}else _0xb60c41[_0x1ed52c(0xad)][_0x1ed52c(0xd1)](_0x1d89be,_0x5cc13b)&&_0x26fc81[_0x1ed52c(0x1a6)](_0x5967a3[_0x570b49])&&(_0x5b208c[_0x5f11d8]=_0x43911e[_0x22b72d]['filter'](_0x4e69ba=>_0x4e69ba&&typeof _0x4e69ba[_0x1ed52c(0x1f0)]===_0x1ed52c(0xd5)&&_0x1aaf22(_0x4e69ba[_0x1ed52c(0x1f0)])));}catch(_0x458efb){baseDataPromiseForCurrentBatch=null;throw _0x458efb;}};return(!baseDataPromiseForCurrentBatch||_0x8a3fe0&&_0x8a3fe0[_0x471e8c(0x129)])&&(baseDataPromiseForCurrentBatch=_0x2c1dc2['twFGe'](_0x4f2545)),await baseDataPromiseForCurrentBatch;}}if(validResamplingTargets['includes'](_0x4105f9)&&baseDataPromiseForCurrentBatch){if(_0x2c1dc2[_0x471e8c(0x18e)](_0x471e8c(0x1a3),'jCvvg'))await baseDataPromiseForCurrentBatch;else{_0x82be7d[_0x471e8c(0x1c7)](_0x471e8c(0x149),_0x471e8c(0xd0)),_0x34f27b=null;const _0x41d640={};_0x41d640[_0x471e8c(0x204)]=null,_0x41d640[_0x471e8c(0xc7)]=[],_0x41d640[_0x471e8c(0xe3)]=0x0,_0xe13e91=_0x41d640;}}const _0x4944f7={};_0x4944f7['symbol']=_0x4d378b,_0x4944f7['interval']=_0x4105f9,_0x4944f7[_0x471e8c(0x18c)]=_0x39c6ea,_0x4944f7['requestContext']=_0x8a3fe0;const _0x1c42b1=await _0x4a0677(_0x4944f7);return _processChartData(_0x1c42b1,_0x1a609e,_0x4105f9);}async function handleFetchAuthoritativeCandle({symbol:_0x5c0335,interval:_0x8472da,startTime:_0x586bc9}){const _0x35e3fa=_0x17ea38,_0x1768a0={};_0x1768a0['KjSec']=function(_0x139363,_0x4571dc){return _0x139363*_0x4571dc;};const _0x1af0c1=_0x1768a0;console[_0x35e3fa(0x1c7)]('[WORKER]\x20Fetching\x20authoritative\x20data\x20for\x20closed\x20candle:\x20'+_0x5c0335+'/'+_0x8472da+_0x35e3fa(0xe7)+new Date(_0x1af0c1[_0x35e3fa(0x13b)](_0x586bc9,0x2149+-0x1da1+0x40))[_0x35e3fa(0x207)]());try{const _0x206a97=await _fetchCandlestickData(_0x5c0335,_0x8472da,0x1cdf*-0x1+-0x202f+0x3d0f,null,_0x586bc9*(0x14ab+0x990+-0x1a53));if(_0x206a97&&_0x206a97[_0x35e3fa(0x1cf)]>0x11*-0x125+-0x201*-0x7+0x56e){const _0x3a2706=_0x206a97[0xaaa+-0xb*-0x28e+-0x26c4];return await saveCandlesToDB([_0x3a2706],_0x5c0335,_0x8472da),_0x3a2706;}return console[_0x35e3fa(0x12d)](_0x35e3fa(0x108)+_0x5c0335+'/'+_0x8472da),null;}catch(_0x45d1f0){console['error']('[WORKER]\x20Failed\x20to\x20fetch\x20authoritative\x20candle\x20for\x20'+_0x5c0335+'/'+_0x8472da,_0x45d1f0);throw _0x45d1f0;}}self[_0x17ea38(0x196)]=async _0x57f3fa=>{const _0x2fba33=_0x17ea38,_0x318f01={'XSCjf':function(_0x40ed6d,_0x7b3469){return _0x40ed6d!==_0x7b3469;},'bZdsm':_0x2fba33(0x13d),'iuMzT':function(_0x2e48cb,_0x185213){return _0x2e48cb(_0x185213);},'rJpGh':function(_0x37f5aa){return _0x37f5aa();},'gAJjO':_0x2fba33(0xe8),'smXCk':function(_0x71c96a,_0x3c8616){return _0x71c96a(_0x3c8616);},'mbqVx':_0x2fba33(0x19e),'ADHCQ':function(_0x14e164,_0x193f49,_0x5c026d,_0x51b291,_0x17969a,_0x46f1fb){return _0x14e164(_0x193f49,_0x5c026d,_0x51b291,_0x17969a,_0x46f1fb);},'ZEpwY':'ping'},{command:_0x42935c,payload:_0x410e73,requestId:_0x1b6ba4}=_0x57f3fa[_0x2fba33(0xc7)];if(_0x410e73&&_0x410e73[_0x2fba33(0x1c1)]&&_0x410e73[_0x2fba33(0x1c1)][_0x2fba33(0x129)]){console[_0x2fba33(0x1c7)](_0x2fba33(0x149),'color:\x20orange;\x20font-weight:\x20bold;'),baseDataPromiseForCurrentBatch=null;const _0x562389={};_0x562389[_0x2fba33(0x204)]=null,_0x562389[_0x2fba33(0xc7)]=[],_0x562389[_0x2fba33(0xe3)]=0x0,inMemoryBaseTfCache=_0x562389;}try{if(_0x2fba33(0x13d)===_0x318f01[_0x2fba33(0xb0)]){let _0xf9bfea;switch(_0x42935c){case _0x2fba33(0x11d):_0xf9bfea=await _0x318f01[_0x2fba33(0x1c2)](handleGetInitialData,_0x410e73);break;case'recalculateIndicators':_0xf9bfea=await handleRecalculateIndicators(_0x410e73);break;case'clearDatabase':_0xf9bfea=await _0x318f01[_0x2fba33(0xda)](handleClearDatabase);break;case _0x2fba33(0x15c):_0xf9bfea=await handleRemoveCoinsFromDB(_0x410e73);break;case _0x318f01[_0x2fba33(0xf4)]:_0xf9bfea=await _0x318f01[_0x2fba33(0xcf)](handleFetchWindowData,_0x410e73);break;case _0x2fba33(0x1b6):_0xf9bfea=await handleFetchAuthoritativeCandle(_0x410e73);break;case _0x318f01[_0x2fba33(0x1ce)]:console['log'](_0x2fba33(0x199)+_0x410e73[_0x2fba33(0x204)]+'/'+_0x410e73[_0x2fba33(0xc6)]);const _0x4d0085=_0x410e73['startTime']*(-0x1c3d+0x143*-0x13+0x1c0f*0x2),_0x92260c=_0x410e73[_0x2fba33(0x14b)];_0xf9bfea=await _0x318f01[_0x2fba33(0x198)](_fetchCandlestickData,_0x410e73[_0x2fba33(0x204)],_0x410e73[_0x2fba33(0xc6)],-0x389+0x3eb*0x1+0x386,_0x92260c,_0x4d0085),console[_0x2fba33(0x1c7)](_0x2fba33(0xcd)+_0x410e73[_0x2fba33(0x204)]+'/'+_0x410e73[_0x2fba33(0xc6)]+_0x2fba33(0x1a2)+_0xf9bfea[_0x2fba33(0x1cf)]+_0x2fba33(0x15e));break;case _0x318f01[_0x2fba33(0x19a)]:const _0x13454a={};_0x13454a[_0x2fba33(0xde)]=_0x2fba33(0xb6),_0xf9bfea=_0x13454a;break;case _0x2fba33(0xc3):workerIsOnline=_0x410e73[_0x2fba33(0x19c)],console[_0x2fba33(0x1c7)](_0x2fba33(0x11a)+(workerIsOnline?_0x2fba33(0x1b5):_0x2fba33(0x183)));const _0x697d11={};_0x697d11[_0x2fba33(0x1fd)]=!![],_0xf9bfea=_0x697d11;break;default:throw new Error(_0x2fba33(0x1ff)+_0x42935c);}const _0xe11877={};_0xe11877[_0x2fba33(0xd6)]=_0x1b6ba4,_0xe11877[_0x2fba33(0xde)]=_0x2fba33(0x1fd),_0xe11877[_0x2fba33(0xc7)]=_0xf9bfea,self[_0x2fba33(0x1e0)](_0xe11877);}else{const _0x1fb2dc=new _0x4f02ab(_0x317378[_0x2fba33(0x1df)][_0x2fba33(0x1cc)](_0x3224c8=>[_0x3224c8[_0x2fba33(0x1ae)],_0x3224c8[_0x2fba33(0x1f0)]]));for(const _0xee42fe of _0x358abf[_0x2fba33(0x12b)]){const _0x4b8550=_0x1fb2dc['get'](_0xee42fe[_0x2fba33(0x1ae)]);if(_0x318f01[_0x2fba33(0x121)](_0x4b8550,_0x58920f)){const _0x5b88df={};_0x5b88df[_0x2fba33(0x1ae)]=_0xee42fe[_0x2fba33(0x1ae)],_0x5b88df[_0x2fba33(0x1f0)]=(-0x2c5*0x2+-0x58*-0x13+-0xfc)*_0xee42fe[_0x2fba33(0x1f0)]-_0x4b8550,_0x5ea50c[_0x2fba33(0x13e)](_0x5b88df);}}}}catch(_0x102847){console[_0x2fba33(0x10d)](_0x2fba33(0x14a)+_0x42935c+'\x27:',_0x102847);const _0x208ee9={};_0x208ee9[_0x2fba33(0xd6)]=_0x1b6ba4,_0x208ee9[_0x2fba33(0xde)]=_0x2fba33(0x10d),_0x208ee9[_0x2fba33(0x10d)]=_0x102847[_0x2fba33(0x195)],self[_0x2fba33(0x1e0)](_0x208ee9);}},console[_0x17ea38(0x1c7)](_0x17ea38(0x1f1)+SCRIPT_VERSION+').');