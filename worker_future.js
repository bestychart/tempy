const _0x1a7121=_0x531b;(function(_0x1aca59,_0x587d29){const _0x1e5fe1=_0x531b,_0x5183d2=_0x1aca59();while(!![]){try{const _0x5e6a74=-parseInt(_0x1e5fe1(0x21f))/0x1*(-parseInt(_0x1e5fe1(0x1fb))/0x2)+parseInt(_0x1e5fe1(0x200))/0x3*(parseInt(_0x1e5fe1(0x1b0))/0x4)+-parseInt(_0x1e5fe1(0x1a7))/0x5+parseInt(_0x1e5fe1(0x18e))/0x6+parseInt(_0x1e5fe1(0x18c))/0x7+parseInt(_0x1e5fe1(0x1f9))/0x8*(parseInt(_0x1e5fe1(0x1bb))/0x9)+parseInt(_0x1e5fe1(0x155))/0xa*(-parseInt(_0x1e5fe1(0x196))/0xb);if(_0x5e6a74===_0x587d29)break;else _0x5183d2['push'](_0x5183d2['shift']());}catch(_0x266868){_0x5183d2['push'](_0x5183d2['shift']());}}}(_0x5122,0x30ea0));const _0x4c1546=(function(){const _0x40f8c2=_0x531b,_0x16e3ae={'wpvkY':function(_0x4390a0,_0xea167e){return _0x4390a0===_0xea167e;},'iXlgv':_0x40f8c2(0x19a)};let _0x26d7ec=!![];return function(_0x60597c,_0x2d1619){const _0x5a32bb=_0x26d7ec?function(){const _0x4cccc4=_0x531b;if(_0x16e3ae[_0x4cccc4(0x161)](_0x16e3ae[_0x4cccc4(0x1aa)],'bplXv')){if(_0x2d1619){if(_0x16e3ae[_0x4cccc4(0x161)]('igUBu',_0x4cccc4(0x15f)))return 0x0;else{const _0x2c5c55=_0x2d1619[_0x4cccc4(0x1c9)](_0x60597c,arguments);return _0x2d1619=null,_0x2c5c55;}}}else return!![];}:function(){};return _0x26d7ec=![],_0x5a32bb;};}()),_0x4a3fb5=_0x4c1546(this,function(){const _0x475fa9=_0x531b,_0x2c4099={'wezZs':_0x475fa9(0x1d9)};return _0x4a3fb5[_0x475fa9(0x1ea)]()['search'](_0x2c4099[_0x475fa9(0x20b)])[_0x475fa9(0x1ea)]()[_0x475fa9(0x1b8)](_0x4a3fb5)['search'](_0x2c4099[_0x475fa9(0x20b)]);});_0x4a3fb5();const _0x4bdcf6=(function(){let _0x542f65=!![];return function(_0x1d8820,_0x18ba2c){const _0x157f6f={'dTMbr':function(_0x44e230,_0x5acc0f){return _0x44e230!==_0x5acc0f;}},_0x448c23=_0x542f65?function(){const _0x399cc6=_0x531b;if(_0x157f6f[_0x399cc6(0x167)](_0x399cc6(0x1c3),'rweOi')){const _0x4e3203=_0x206414[_0x399cc6(0x19d)];let _0x58d8a2;_0x1a17c8['has'](_0x4e3203)?(_0x58d8a2=_0x1732ad[_0x399cc6(0x19f)](_0x4e3203),_0x58d8a2[_0x399cc6(0x176)]=_0x4fcc2d[_0x399cc6(0x176)],_0x3932ac[_0x399cc6(0x1e1)]>0x0&&(_0x58d8a2['listingDate']=_0x16598b[_0x399cc6(0x1e1)])):(_0x58d8a2={..._0xce0752},_0x58d8a2[_0x399cc6(0x1d3)]=0x0,_0x58d8a2[_0x399cc6(0x1e6)]=null,_0x1c1980[_0x399cc6(0x189)](_0x58d8a2));_0x58d8a2[_0x399cc6(0x18a)]=_0x53dff4(_0x58d8a2['listingDate']),_0x21b71b['push'](_0x58d8a2);if(_0x1109df[_0x399cc6(0x178)](_0x4e3203))_0x66b6b6[_0x399cc6(0x189)](_0x58d8a2);}else{if(_0x18ba2c){const _0x10107f=_0x18ba2c[_0x399cc6(0x1c9)](_0x1d8820,arguments);return _0x18ba2c=null,_0x10107f;}}}:function(){};return _0x542f65=![],_0x448c23;};}());(function(){const _0x17f232=_0x531b,_0x320653={'sRYiT':_0x17f232(0x15d),'xoLFT':function(_0x3b8b0b,_0x199b56){return _0x3b8b0b(_0x199b56);},'eSAvz':_0x17f232(0x1ed),'yWCys':function(_0x15d38a,_0x51345b,_0x5b9224){return _0x15d38a(_0x51345b,_0x5b9224);}};_0x320653[_0x17f232(0x174)](_0x4bdcf6,this,function(){const _0x11d5c9=_0x17f232,_0x1d7a97=new RegExp(_0x11d5c9(0x1f0)),_0x31b230=new RegExp(_0x320653['sRYiT'],'i'),_0x34ca34=_0x320653[_0x11d5c9(0x21a)](_0x334f2f,'init');!_0x1d7a97[_0x11d5c9(0x1cd)](_0x34ca34+_0x11d5c9(0x1c5))||!_0x31b230[_0x11d5c9(0x1cd)](_0x34ca34+_0x320653['eSAvz'])?_0x34ca34('0'):_0x334f2f();})();}());const _0x377250=(function(){let _0x53526f=!![];return function(_0x446864,_0x272896){const _0x3ffcc8=_0x531b,_0xf045e8={'xlDnx':_0x3ffcc8(0x1ba)},_0x158b50=_0x53526f?function(){const _0x38d313=_0x3ffcc8;if(_0xf045e8[_0x38d313(0x15e)]===_0xf045e8[_0x38d313(0x15e)]){if(_0x272896){const _0x2db398=_0x272896['apply'](_0x446864,arguments);return _0x272896=null,_0x2db398;}}else _0x1b6947['postMessage']({'type':_0x38d313(0x218)});}:function(){};return _0x53526f=![],_0x158b50;};}()),_0x2369fe=_0x377250(this,function(){const _0x491d82=_0x531b,_0xec289d={'KqAad':_0x491d82(0x21e),'pTffD':function(_0x57c5ed,_0x5a8c06){return _0x57c5ed(_0x5a8c06);},'mSREb':function(_0x1bd7d2,_0x1e5c67){return _0x1bd7d2+_0x1e5c67;},'jhXIF':_0x491d82(0x152),'lHWgt':_0x491d82(0x17b),'TbXWP':'log','IVeWL':_0x491d82(0x179),'MQmzr':'trace','mOYaw':function(_0x34f6ee,_0x426814){return _0x34f6ee<_0x426814;},'voLXQ':function(_0xbb1d2c,_0xf798ea){return _0xbb1d2c===_0xf798ea;},'jaPQZ':_0x491d82(0x169)};let _0x528f74;try{const _0x1cdd6a=_0xec289d[_0x491d82(0x1f7)](Function,_0xec289d['mSREb'](_0xec289d['jhXIF'],_0xec289d[_0x491d82(0x1ae)])+');');_0x528f74=_0x1cdd6a();}catch(_0x5b991e){_0x528f74=window;}const _0x330ef4=_0x528f74[_0x491d82(0x205)]=_0x528f74[_0x491d82(0x205)]||{},_0x22161f=[_0xec289d[_0x491d82(0x16a)],'warn','info',_0x491d82(0x16b),_0xec289d[_0x491d82(0x177)],_0x491d82(0x21d),_0xec289d[_0x491d82(0x214)]];for(let _0x5050ba=0x0;_0xec289d[_0x491d82(0x154)](_0x5050ba,_0x22161f[_0x491d82(0x14f)]);_0x5050ba++){if(_0xec289d[_0x491d82(0x1db)](_0xec289d[_0x491d82(0x1cb)],_0x491d82(0x169))){const _0x1cd09d=_0x377250[_0x491d82(0x1b8)][_0x491d82(0x171)][_0x491d82(0x215)](_0x377250),_0x3e9dd6=_0x22161f[_0x5050ba],_0x47380f=_0x330ef4[_0x3e9dd6]||_0x1cd09d;_0x1cd09d['__proto__']=_0x377250['bind'](_0x377250),_0x1cd09d['toString']=_0x47380f[_0x491d82(0x1ea)]['bind'](_0x47380f),_0x330ef4[_0x3e9dd6]=_0x1cd09d;}else{if(!_0x4102f1||_0x22057d===0x0)return _0xec289d[_0x491d82(0x175)];return new _0x356e1f(_0x1728ad)[_0x491d82(0x1e4)]()[_0x491d82(0x14c)]('T','\x20')[_0x491d82(0x193)](0x0,0x13);}}});_0x2369fe(),console[_0x1a7121(0x209)]('[Worker]\x20loaded'),self['addEventListener'](_0x1a7121(0x16b),_0x19d9b9=>console[_0x1a7121(0x209)](_0x1a7121(0x15a),_0x19d9b9)),self[_0x1a7121(0x1d4)](_0x1a7121(0x1e5),_0x266022=>console[_0x1a7121(0x209)](_0x1a7121(0x17f),_0x266022[_0x1a7121(0x1e3)]));function _0x531b(_0x33388f,_0x2d689e){_0x33388f=_0x33388f-0x14b;const _0x5c7c62=_0x5122();let _0x2369fe=_0x5c7c62[_0x33388f];return _0x2369fe;}import{openDB}from'https://cdn.jsdelivr.net/npm/idb@8/+esm';const DB_NAME=_0x1a7121(0x1a3),DB_VERSION=0xb,NEW_COIN_PERIOD_MS=0x8*0x7*0x18*0x3c*0x3c*0x3e8;let readyPromise=null;function ensureReady(){const _0x499ed5=_0x1a7121;return!readyPromise&&(readyPromise=syncCoinsList()[_0x499ed5(0x226)](_0x17ca9e=>{const _0x2c3a31=_0x499ed5;console[_0x2c3a31(0x16b)](_0x2c3a31(0x1f5),_0x17ca9e);})),readyPromise;}function _0x5122(){const _0x319d2c=['mCfyP','COINS_LIST','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','xlDnx','gEBDw','all','wpvkY','fahOU','kouYH','LDlcF','kqpcw','eFdsE','dTMbr','rSsyl','PTHCs','TbXWP','error','sort','sreiE','UFrDV','AHUOM','NgGzW','prototype','FsOVW','iBaHj','yWCys','KqAad','precision','IVeWL','has','exception','debu','{}.constructor(\x22return\x20this\x22)(\x20)','IjAKa','LJUEf','localeCompare','[Worker]\x20unhandled','ZacbF','close','MMxSv','map','findIndex','done','hJJYV','VJeSM','hHfaI','push','isNew','coins','916538yqevrf','[Realtime]\x20Error:','1755288ZQcKpb','[Worker]\x20Error\x20getting\x20candles\x20for\x20','dgHxB','isContinuous','message','slice','__proto__','string','55bLtRxM','sqrt','data','gHrQG','bplXv','UBUID','action','symbol','qTFUT','get','obVTB','store','pricePrecision','FutureBapiDB_v11','search','contains','msg','742675yqcUwj','[Worker]\x20Sync\x20List\x20Error:','counter','iXlgv','PQBmr','ZRnIP','iKJVX','lHWgt','json','4iJlFTg','forEach','RSFWU','xIFRK','onboardDate','GZvFD','DhvXQ','JzGvP','constructor','PpgHp','xojaz','250641IsPSYw','[Worker]\x20Starting\x20Realtime\x20for\x20','eJFwz','hozIr','abs','RHsEk','&limit=1000','YnffO','rweOi','PDJjE','chain','warn','contractType','stateObject','apply','UjUFb','jaPQZ','EAZGM','test','buffer','MRDpB','[Worker]\x20Realtime\x20fetch\x20failed\x20for\x20','hmAFr','gnroK','failCount','addEventListener','symbols','START_DOWNLOAD','USDT','REALTIME_UPDATE','(((.+)+)+)+$','code','voLXQ','historical_candles','YvaOE','no-store','?symbol=','RvWwE','listingDate','toDateString','reason','toISOString','unhandledrejection','lastFailDate','isArray','https://fapi.binance.com/fapi/v1/klines','pVRVE','toString','oEVsR','yLbOA','input','QmhiX','objectStoreNames','function\x20*\x5c(\x20*\x5c)','createObjectStore','MtDBh','wiUWM','JOXUG','[Worker]\x20INIT\x20failed:','wXkmX','pTffD','Skise','56HWuXfA','put','659718xViFrE','UBmsn','&interval=','CANDLES_DATA','BXvFa','912579uyxWeO','UBOyE','Rrmug','[Worker]\x20Syncing\x20Futures\x20Coin\x20List...','ayUOS','console','trace','[Worker]\x20Realtime\x20STOPPED\x20for\x20','TEauc','log','RWjzN','wezZs','timeframe','baseAsset','suwef','AMYOW','time','XMEod','pow','xxGeN','MQmzr','bind','while\x20(true)\x20{}','wRPGV','DOWNLOAD_COMPLETE','wQJmq','xoLFT','FKDoo','bwzcR','table','NONE\x20(0)','1pKhUfO','number','TRADING','find','readwrite','Bvasz','filter','catch','UvGBE','quoteAsset','replace','now','dispName','length','postMessage','StbQv','return\x20(function()\x20','QxGiO','mOYaw','1807180akZtRh','hHcwo','veKUC','DWBYV','status','[Worker]\x20inner\x20error'];_0x5122=function(){return _0x319d2c;};return _0x5122();}let activeRealtimeSession=null;setInterval(()=>{const _0x66c79e=_0x1a7121;activeRealtimeSession&&fetchRealtimeUpdate()['catch'](_0x4f4b7a=>console[_0x66c79e(0x16b)](_0x66c79e(0x18d),_0x4f4b7a));},0x1388);const API_ALPHA_MAPPING='https://fapi.binance.com/fapi/v1/exchangeInfo',API_ALPHA_KLINES=_0x1a7121(0x1e8),INTERVAL_SECS={'1m':0x3c,'5m':0x12c,'15m':0x384,'30m':0x708,'1h':0xe10,'2h':0x1c20,'4h':0x3840,'8h':0x7080,'12h':0xa8c0,'1d':0x15180,'3d':0x3f480};function fmtDate(_0x2858cd){const _0x54a17a=_0x1a7121;if(!_0x2858cd||_0x2858cd===0x0)return _0x54a17a(0x21e);return new Date(_0x2858cd)[_0x54a17a(0x1e4)]()[_0x54a17a(0x14c)]('T','\x20')['slice'](0x0,0x13);}async function initDB(){const _0xf721d7={'WydZZ':'coins','iBaHj':'symbol'};return openDB(DB_NAME,DB_VERSION,{'upgrade'(_0x594cb3){const _0x4c8a58=_0x531b;!_0x594cb3[_0x4c8a58(0x1ef)][_0x4c8a58(0x1a5)](_0xf721d7['WydZZ'])&&_0x594cb3[_0x4c8a58(0x1f1)](_0xf721d7['WydZZ'],{'keyPath':_0xf721d7[_0x4c8a58(0x173)]}),!_0x594cb3[_0x4c8a58(0x1ef)]['contains'](_0x4c8a58(0x1dc))&&_0x594cb3['createObjectStore'](_0x4c8a58(0x1dc),{'keyPath':'id'});}});}async function fetchBapi(_0x422077){const _0x52a9f2=_0x1a7121,_0x1b30de={'dzgtW':_0x52a9f2(0x216),'EqJmI':_0x52a9f2(0x1a9),'tcktF':_0x52a9f2(0x1de),'IjAKa':function(_0x38f7c9,_0x216f34){return _0x38f7c9!==_0x216f34;},'wXkmX':_0x52a9f2(0x156),'UBmsn':'dsDUo','NgHcY':'HTTP','xEStf':function(_0x511993,_0x478fcb){return _0x511993!==_0x478fcb;},'eJFwz':_0x52a9f2(0x220),'FsOVW':'Unknown\x20Error'},_0x5d3466=await fetch(_0x422077,{'cache':_0x1b30de['tcktF']});if(!_0x5d3466['ok']){let _0x574402='HTTP\x20'+_0x5d3466[_0x52a9f2(0x159)];try{if(_0x1b30de[_0x52a9f2(0x17c)](_0x1b30de[_0x52a9f2(0x1f6)],_0x1b30de[_0x52a9f2(0x1fc)])){const _0x5713fc=await _0x5d3466['json']();if(_0x5713fc['msg'])_0x574402=_0x5713fc['msg'];}else return function(_0x5ccc97){}[_0x52a9f2(0x1b8)](LnhbCG['dzgtW'])[_0x52a9f2(0x1c9)](LnhbCG['EqJmI']);}catch(_0x1eb421){}throw{'code':_0x1b30de['NgHcY'],'message':_0x574402};}const _0x3d11e2=await _0x5d3466[_0x52a9f2(0x1af)]();if(_0x3d11e2&&_0x3d11e2[_0x52a9f2(0x1da)]&&_0x1b30de['xEStf'](_0x3d11e2[_0x52a9f2(0x1da)],0x0)&&typeof _0x3d11e2[_0x52a9f2(0x1da)]===_0x1b30de[_0x52a9f2(0x1bd)])throw{'code':_0x3d11e2[_0x52a9f2(0x1da)],'message':_0x3d11e2[_0x52a9f2(0x1a6)]||_0x1b30de[_0x52a9f2(0x172)]};return _0x3d11e2;}function getRequestSymbol(_0x4b45e2){const _0x217582=_0x1a7121;return _0x4b45e2[_0x217582(0x19d)];}async function findTrueListingDate(_0x34e83b){return 0x0;}function checkIsNew(_0x59ac57){const _0x514a1f=_0x1a7121;if(!_0x59ac57||_0x59ac57===0x0)return![];return Date[_0x514a1f(0x14d)]()-_0x59ac57<NEW_COIN_PERIOD_MS;}function checkContinuity(_0x5820b6,_0x85b2d4){const _0x12b1ea=_0x1a7121,_0x4fd022={'AHUOM':function(_0x447688,_0x456025){return _0x447688<_0x456025;}};if(!_0x5820b6||_0x5820b6['length']<0x2)return!![];const _0x4fd37e=INTERVAL_SECS[_0x85b2d4];if(!_0x4fd37e)return![];for(let _0x27abe6=0x1;_0x4fd022[_0x12b1ea(0x16f)](_0x27abe6,_0x5820b6[_0x12b1ea(0x14f)]);_0x27abe6++){const _0xb32ef7=_0x5820b6[_0x27abe6][_0x12b1ea(0x210)]-_0x5820b6[_0x27abe6-0x1]['time'];if(Math[_0x12b1ea(0x1bf)](_0xb32ef7-_0x4fd37e)>0x2)return![];}return!![];}function calculateIndicators(_0x587842){const _0x3eee03={'UBOyE':function(_0x4b4c71,_0x32e494){return _0x4b4c71-_0x32e494;},'AMYOW':function(_0x1e0d81,_0x3ec5c9){return _0x1e0d81<_0x3ec5c9;},'NgGzW':function(_0x34c1f5,_0x4e876c){return _0x34c1f5(_0x4e876c);},'StbQv':function(_0x491727,_0x4f6568){return _0x491727-_0x4f6568;},'mCfyP':function(_0x58e77b,_0x14f645){return _0x58e77b(_0x14f645);}},_0x1f596e=0x7,_0x12c5a6=0x14,_0xb846ec=0x2;return _0x587842['map']((_0x5ca15c,_0x4df361,_0x51d235)=>{const _0x7b2e47=_0x531b;if(_0x7b2e47(0x1f2)==='MtDBh'){let _0x44c0fe=null,_0x4e9f29=null,_0xfa102f=null,_0x558e60=null;if(_0x4df361>=_0x3eee03[_0x7b2e47(0x201)](_0x1f596e,0x1)){let _0x558f53=0x0;for(let _0x54d3dc=0x0;_0x3eee03[_0x7b2e47(0x20f)](_0x54d3dc,_0x1f596e);_0x54d3dc++)_0x558f53+=parseFloat(_0x51d235[_0x4df361-_0x54d3dc]['close']);_0x44c0fe=_0x558f53/_0x1f596e;}if(_0x4df361>=_0x12c5a6-0x1){let _0x34ae7b=0x0;for(let _0x10fca2=0x0;_0x3eee03['AMYOW'](_0x10fca2,_0x12c5a6);_0x10fca2++)_0x34ae7b+=_0x3eee03[_0x7b2e47(0x170)](parseFloat,_0x51d235[_0x3eee03[_0x7b2e47(0x151)](_0x4df361,_0x10fca2)][_0x7b2e47(0x181)]);const _0x592f38=_0x34ae7b/_0x12c5a6;_0x558e60=_0x592f38;let _0x49eed0=0x0;for(let _0x587a7d=0x0;_0x587a7d<_0x12c5a6;_0x587a7d++)_0x49eed0+=Math['pow'](_0x3eee03[_0x7b2e47(0x15b)](parseFloat,_0x51d235[_0x4df361-_0x587a7d]['close'])-_0x592f38,0x2);const _0x1eba46=Math[_0x7b2e47(0x197)](_0x49eed0/_0x12c5a6);_0x4e9f29=_0x592f38+_0x1eba46*_0xb846ec,_0xfa102f=_0x592f38-_0x1eba46*_0xb846ec;}return{..._0x5ca15c,'sma7':_0x44c0fe,'bbUpper':_0x4e9f29,'bbLower':_0xfa102f,'bbMiddle':_0x558e60};}else _0x36f1e4[_0x7b2e47(0x1f1)](_0x7b2e47(0x1dc),{'keyPath':'id'});});}function mapData(_0x5e684d){const _0x133ab1=_0x1a7121;if(!Array[_0x133ab1(0x1e7)](_0x5e684d))return[];return _0x5e684d[_0x133ab1(0x183)](_0x475807=>({'time':_0x475807[0x0]/0x3e8,'open':parseFloat(_0x475807[0x1]),'high':parseFloat(_0x475807[0x2]),'low':parseFloat(_0x475807[0x3]),'close':parseFloat(_0x475807[0x4]),'volume':parseFloat(_0x475807[0x5])}));}async function syncCoinsList(){const _0x46bbda=_0x1a7121,_0x35b06a={'RCAAe':function(_0x230925,_0x2b6158,_0x2748fa,_0x5032cf){return _0x230925(_0x2b6158,_0x2748fa,_0x5032cf);},'HLCYq':_0x46bbda(0x1d9),'RfmLR':function(_0x1c8db6,_0x26fa01){return _0x1c8db6>=_0x26fa01;},'hozIr':function(_0x103c6b){return _0x103c6b();},'akxgr':_0x46bbda(0x203),'YvaOE':_0x46bbda(0x18b),'UjUFb':_0x46bbda(0x1ab),'fahOU':_0x46bbda(0x16d)},_0x1fe303=await _0x35b06a[_0x46bbda(0x1be)](initDB);try{console['log'](_0x35b06a['akxgr']);const _0x4e47f9=await fetchBapi(API_ALPHA_MAPPING),_0x10467d=_0x4e47f9[_0x46bbda(0x1d5)][_0x46bbda(0x225)](_0x5af9ea=>_0x5af9ea[_0x46bbda(0x1c7)]==='PERPETUAL'&&_0x5af9ea['status']===_0x46bbda(0x221)&&_0x5af9ea[_0x46bbda(0x14b)]===_0x46bbda(0x1d7)),_0x145a91=new Map(),_0x1cdebe=_0x10467d[_0x46bbda(0x183)](_0x5b35b1=>({'symbol':_0x5b35b1['symbol'],'dispName':_0x5b35b1[_0x46bbda(0x20d)],'alphaId':_0x5b35b1[_0x46bbda(0x19d)],'listingDate':_0x5b35b1[_0x46bbda(0x1b4)]||0x0,'precision':_0x5b35b1[_0x46bbda(0x1a2)]||0x4,'cexOffDisplay':![]})),_0x14151a=_0x1cdebe[_0x46bbda(0x16c)]((_0x234658,_0x4237bd)=>_0x234658[_0x46bbda(0x14e)][_0x46bbda(0x17e)](_0x4237bd[_0x46bbda(0x14e)])),_0x1a8f54=await _0x1fe303['getAll'](_0x35b06a[_0x46bbda(0x1dd)]),_0x3c22b3=new Map(_0x1a8f54[_0x46bbda(0x183)](_0x1eb9f3=>[_0x1eb9f3[_0x46bbda(0x19d)],_0x1eb9f3])),_0x2636c6=[],_0xcce390=[];for(const _0x185bee of _0x14151a){if(_0x46bbda(0x1ac)!==_0x35b06a[_0x46bbda(0x1ca)]){const _0x38bbe7=_0x185bee[_0x46bbda(0x19d)];let _0x57fc70;if(_0x3c22b3[_0x46bbda(0x178)](_0x38bbe7)){_0x57fc70=_0x3c22b3[_0x46bbda(0x19f)](_0x38bbe7),_0x57fc70[_0x46bbda(0x176)]=_0x185bee[_0x46bbda(0x176)];if(_0x185bee[_0x46bbda(0x1e1)]>0x0){if(_0x46bbda(0x1c4)!==_0x46bbda(0x19e))_0x57fc70[_0x46bbda(0x1e1)]=_0x185bee[_0x46bbda(0x1e1)];else return joNyNX['RCAAe'](_0xc88626,_0x1f99ba,_0x56b5d5,{'upgrade'(_0x63730a){const _0x806036=_0x46bbda;!_0x63730a[_0x806036(0x1ef)][_0x806036(0x1a5)](_0x806036(0x18b))&&_0x63730a['createObjectStore'](_0x806036(0x18b),{'keyPath':_0x806036(0x19d)}),!_0x63730a['objectStoreNames'][_0x806036(0x1a5)]('historical_candles')&&_0x63730a[_0x806036(0x1f1)]('historical_candles',{'keyPath':'id'});}});}}else{if(_0x46bbda(0x16d)===_0x35b06a[_0x46bbda(0x162)])_0x57fc70={..._0x185bee},_0x57fc70[_0x46bbda(0x1d3)]=0x0,_0x57fc70[_0x46bbda(0x1e6)]=null,_0x2636c6[_0x46bbda(0x189)](_0x57fc70);else return![];}_0x57fc70['isNew']=checkIsNew(_0x57fc70[_0x46bbda(0x1e1)]),_0xcce390[_0x46bbda(0x189)](_0x57fc70);if(_0x3c22b3[_0x46bbda(0x178)](_0x38bbe7))_0x2636c6['push'](_0x57fc70);}else return _0x188ada[_0x46bbda(0x1ea)]()[_0x46bbda(0x1a4)](joNyNX['HLCYq'])[_0x46bbda(0x1ea)]()[_0x46bbda(0x1b8)](_0x445e5e)[_0x46bbda(0x1a4)](_0x46bbda(0x1d9));}if(_0x2636c6[_0x46bbda(0x14f)]>0x0){const _0x68dfc4=_0x1fe303['transaction']('coins',_0x46bbda(0x223));await Promise[_0x46bbda(0x160)]([..._0x2636c6[_0x46bbda(0x183)](_0x5a945d=>_0x68dfc4[_0x46bbda(0x1a1)][_0x46bbda(0x1fa)](_0x5a945d)),_0x68dfc4[_0x46bbda(0x185)]]);}const _0x392049=new Date()[_0x46bbda(0x1e2)](),_0x565b35=_0xcce390[_0x46bbda(0x225)](_0x5d7248=>{const _0x3da0a9=_0x46bbda;if(_0x35b06a['RfmLR'](_0x5d7248[_0x3da0a9(0x1d3)],0x3))return![];if(_0x5d7248['lastFailDate']===_0x392049)return![];return!![];});self[_0x46bbda(0x150)]({'type':_0x46bbda(0x15c),'data':_0x565b35});}catch(_0x235bb9){console[_0x46bbda(0x16b)](_0x46bbda(0x1a8),_0x235bb9);const _0x4d1263=await _0x1fe303['getAll'](_0x46bbda(0x18b));self[_0x46bbda(0x150)]({'type':_0x46bbda(0x15c),'data':_0x4d1263[_0x46bbda(0x183)](_0x6dd496=>({..._0x6dd496,'isNew':checkIsNew(_0x6dd496['listingDate'])}))});}}async function fetchRealtimeUpdate(){const _0x5cc313=_0x1a7121,_0x2486a8={'RHsEk':function(_0x4cf6cf,_0x19314b){return _0x4cf6cf!==_0x19314b;},'iKJVX':function(_0x2d240f,_0x35871e){return _0x2d240f<_0x35871e;},'dxomt':function(_0x336263,_0xbf9551){return _0x336263/_0xbf9551;},'wiUWM':function(_0x29e0b8,_0x4a11f3){return _0x29e0b8-_0x4a11f3;},'pVRVE':function(_0x18eb09,_0x11080f){return _0x18eb09*_0x11080f;},'Rrmug':function(_0x1ac63b,_0x365f41){return _0x1ac63b&&_0x365f41;},'rSsyl':function(_0x5d8843,_0x54ce47){return _0x5d8843(_0x54ce47);},'DhvXQ':function(_0x8d0213,_0x5ebf6d){return _0x8d0213(_0x5ebf6d);},'dgHxB':function(_0x3fc248,_0x4ee0d1){return _0x3fc248===_0x4ee0d1;},'suwef':_0x5cc313(0x1a0),'YnffO':_0x5cc313(0x1b9),'ZacbF':_0x5cc313(0x165),'eFdsE':_0x5cc313(0x1d8)};if(!activeRealtimeSession)return;const _0x44e8a0=activeRealtimeSession,_0x1eba97=_0x44e8a0['symbol'],_0x4d40c3=API_ALPHA_KLINES+_0x5cc313(0x1df)+_0x1eba97+'&interval='+_0x44e8a0[_0x5cc313(0x20c)]+'&limit=2';try{const _0x33bd6b=await _0x2486a8[_0x5cc313(0x168)](fetchBapi,_0x4d40c3),_0x4c7b3d=_0x2486a8[_0x5cc313(0x1b6)](mapData,_0x33bd6b);if(_0x4c7b3d[_0x5cc313(0x14f)]===0x0)return;_0x4c7b3d[_0x5cc313(0x1b1)](_0x431ca1=>{const _0x2d68f4=_0x5cc313,_0x21ea21=_0x44e8a0[_0x2d68f4(0x1ce)]['findIndex'](_0x5c07fe=>Math[_0x2d68f4(0x1bf)](_0x5c07fe['time']-_0x431ca1['time'])<0x1);_0x2486a8[_0x2d68f4(0x1c0)](_0x21ea21,-0x1)?_0x44e8a0['buffer'][_0x21ea21]={..._0x44e8a0['buffer'][_0x21ea21],..._0x431ca1}:_0x2d68f4(0x227)===_0x2d68f4(0x227)?_0x44e8a0[_0x2d68f4(0x1ce)]['push'](_0x431ca1):(_0x360f89=_0x29aa76[_0x2d68f4(0x19f)](_0xb364b7),_0x4ddcdf[_0x2d68f4(0x176)]=_0x30319f[_0x2d68f4(0x176)],_0x25d9e4[_0x2d68f4(0x1e1)]>0x0&&(_0x5cc845[_0x2d68f4(0x1e1)]=_0x5f0438[_0x2d68f4(0x1e1)]));});if(_0x44e8a0[_0x5cc313(0x1ce)][_0x5cc313(0x14f)]>0x3c){if(_0x2486a8[_0x5cc313(0x190)]('AFlVJ',_0x2486a8[_0x5cc313(0x20e)])){let _0x2472f6=0x0;for(let _0x19d17d=0x0;SYSRiB[_0x5cc313(0x1ad)](_0x19d17d,_0x19c75c);_0x19d17d++)_0x2472f6+=_0xb286f8(_0x546331[_0x3e5480-_0x19d17d][_0x5cc313(0x181)]);const _0x3eab86=SYSRiB['dxomt'](_0x2472f6,_0x17a3de);_0x59c146=_0x3eab86;let _0x19f2cb=0x0;for(let _0x3c6cca=0x0;SYSRiB[_0x5cc313(0x1ad)](_0x3c6cca,_0x365fde);_0x3c6cca++)_0x19f2cb+=_0x332659[_0x5cc313(0x212)](SYSRiB[_0x5cc313(0x1f3)](_0x33173e(_0x2d35b4[_0x5cbd7b-_0x3c6cca][_0x5cc313(0x181)]),_0x3eab86),0x2);const _0x304b2d=_0x220224[_0x5cc313(0x197)](_0x19f2cb/_0xa33530);_0x2ab94f=_0x3eab86+SYSRiB[_0x5cc313(0x1e9)](_0x304b2d,_0x3c6994),_0x5b83f4=_0x3eab86-_0x304b2d*_0x22a2aa;}else _0x44e8a0[_0x5cc313(0x1ce)]=_0x44e8a0['buffer'][_0x5cc313(0x193)](-0x3c);}const _0x26af21=calculateIndicators(_0x44e8a0[_0x5cc313(0x1ce)]),_0x2d3145=[];_0x4c7b3d['forEach'](_0x405c3e=>{const _0x427f06=_0x5cc313,_0x5af772=_0x26af21[_0x427f06(0x222)](_0x4f84b4=>Math['abs'](_0x4f84b4[_0x427f06(0x210)]-_0x405c3e[_0x427f06(0x210)])<0x1);if(_0x5af772)_0x2d3145[_0x427f06(0x189)](_0x5af772);});if(_0x2d3145[_0x5cc313(0x14f)]>0x0){if(_0x2486a8[_0x5cc313(0x1c2)]===_0x2486a8[_0x5cc313(0x180)]){if(!_0x1d5955)return;_0x594254=null;const _0x294afa=_0x276904['length']<0x3e8,_0x4d92e4=_0x53a6d9[_0x5cc313(0x14f)]>0x0?_0x31ae55[_0x47a4b1[_0x5cc313(0x14f)]-0x1][_0x5cc313(0x210)]:0x0,_0xfff088=_0x524df1[_0xd65c4c]||0x3c,_0x71464e=_0xa59d2e['now']()/0x3e8-_0x4d92e4<_0x2486a8['pVRVE'](_0xfff088,0x5);_0x2486a8[_0x5cc313(0x202)](_0x294afa,_0x71464e)?(_0x11ef6c[_0x5cc313(0x209)](_0x5cc313(0x1bc)+_0x24789f+'\x20('+_0x44c1e0+')'),_0x2f512e={'symbol':_0x397010,'alphaId':_0x62138e['alphaId'],'timeframe':_0x17b8d3,'precision':_0x21547d[_0x5cc313(0x176)],'buffer':_0x157a97['slice'](-0x32)}):_0x19f04c[_0x5cc313(0x209)](_0x5cc313(0x207)+_0x15a098+'\x20('+_0xb4f522+')');}else self[_0x5cc313(0x150)]({'type':_0x2486a8[_0x5cc313(0x166)],'data':_0x2d3145,'precision':_0x44e8a0['precision']});}}catch(_0x190f9f){console[_0x5cc313(0x1c6)](_0x5cc313(0x1d0)+_0x1eba97+':',_0x190f9f[_0x5cc313(0x192)]||_0x190f9f);}}async function handleGetCandles({symbol:_0x24ba1f,timeframe:_0x232f36,requestId:_0x8c1f62,isPrimary:_0x4cda37}){const _0xae1653=_0x1a7121,_0x5578b0={'gHrQG':_0xae1653(0x1d8),'MRDpB':function(_0x34caca,_0x31060b){return _0x34caca>_0x31060b;},'hJJYV':function(_0x5ea357,_0x31b724){return _0x5ea357-_0x31b724;},'RWjzN':function(_0xd064bf,_0x5b7c5f){return _0xd064bf/_0x5b7c5f;},'ayUOS':function(_0x453d6c,_0x107047){return _0x453d6c===_0x107047;},'bqZMU':_0xae1653(0x1ee),'xIFRK':_0xae1653(0x1d7),'iKXBo':_0xae1653(0x208),'yLbOA':_0xae1653(0x164),'Skise':function(_0x43252e,_0x593238){return _0x43252e(_0x593238);},'Bvasz':_0xae1653(0x21c),'hNOca':function(_0x220571,_0x30c905){return _0x220571===_0x30c905;},'ihtZl':function(_0x447bf5,_0x482b0f){return _0x447bf5(_0x482b0f);},'tISYD':function(_0x50ee17,_0x45ed89){return _0x50ee17!==_0x45ed89;},'FKDoo':_0xae1653(0x217),'JzGvP':'CANDLES_DATA'},_0x2e255b=await initDB();try{let _0x1bc285=await _0x2e255b['get'](_0xae1653(0x18b),_0x24ba1f);!_0x1bc285&&(_0x1bc285={'symbol':_0x24ba1f,'dispName':_0x24ba1f[_0xae1653(0x14c)](_0xae1653(0x1d7),''),'alphaId':_0x24ba1f,'listingDate':0x0,'precision':0x4,'cexOffDisplay':![]});let _0x2d2b21=_0x1bc285[_0xae1653(0x1e1)]||0x0;const _0x319071=_0x24ba1f+'_'+_0x232f36+'_'+_0x2d2b21,_0x505d4a=_0x45d450=>{const _0x193ebb=_0xae1653;if(!_0x4cda37)return;activeRealtimeSession=null;const _0x553efa=_0x45d450[_0x193ebb(0x14f)]<0x3e8,_0xd604d3=_0x5578b0[_0x193ebb(0x1cf)](_0x45d450['length'],0x0)?_0x45d450[_0x5578b0[_0x193ebb(0x186)](_0x45d450[_0x193ebb(0x14f)],0x1)]['time']:0x0,_0x4d8fa0=INTERVAL_SECS[_0x232f36]||0x3c,_0x37c364=_0x5578b0[_0x193ebb(0x20a)](Date['now'](),0x3e8)-_0xd604d3<_0x4d8fa0*0x5;_0x553efa&&_0x37c364?(console[_0x193ebb(0x209)](_0x193ebb(0x1bc)+_0x24ba1f+'\x20('+_0x232f36+')'),activeRealtimeSession={'symbol':_0x24ba1f,'alphaId':_0x1bc285['alphaId'],'timeframe':_0x232f36,'precision':_0x1bc285[_0x193ebb(0x176)],'buffer':_0x45d450[_0x193ebb(0x193)](-0x32)}):_0x5578b0[_0x193ebb(0x204)](_0x193ebb(0x1ff),_0x5578b0['bqZMU'])?_0x3c95cf[_0x193ebb(0x150)]({'type':NkAXas[_0x193ebb(0x199)],'data':_0x2849e3,'precision':_0x585156['precision']}):console[_0x193ebb(0x209)](_0x193ebb(0x207)+_0x24ba1f+'\x20('+_0x232f36+')');},_0x5156de=await _0x2e255b[_0xae1653(0x19f)](_0xae1653(0x1dc),_0x319071);if(_0x5156de){if(_0xae1653(0x208)!==_0x5578b0['iKXBo'])return!_0x3888f1&&(_0x5d627d=_0xc6ae97()[_0xae1653(0x226)](_0x3ed4c9=>{const _0x50e773=_0xae1653;_0x2842bc[_0x50e773(0x16b)](_0x50e773(0x1f5),_0x3ed4c9);})),_0x435efe;else{if(_0x5156de['data'][_0xae1653(0x14f)]===0x3e8&&_0x5156de[_0xae1653(0x191)]){if(_0x5578b0[_0xae1653(0x204)](_0x5578b0[_0xae1653(0x1ec)],_0xae1653(0x19b))){const _0x1e7124=_0x174387[_0xae1653(0x1ce)][_0xae1653(0x184)](_0x3ba3c6=>_0x2753b6[_0xae1653(0x1bf)](_0x3ba3c6['time']-_0x535a6c['time'])<0x1);_0x1e7124!==-0x1?_0x338087[_0xae1653(0x1ce)][_0x1e7124]={..._0x996b72[_0xae1653(0x1ce)][_0x1e7124],..._0x3882c6}:_0x285c1d['buffer'][_0xae1653(0x189)](_0x4ef97f);}else{const _0x1315c5=calculateIndicators(_0x5156de[_0xae1653(0x198)]);_0x505d4a(_0x1315c5),self['postMessage']({'type':_0xae1653(0x1fe),'requestId':_0x8c1f62,'symbol':_0x24ba1f,'timeframe':_0x232f36,'data':_0x1315c5,'precision':_0x1bc285[_0xae1653(0x176)]});return;}}}}const _0x30bd9d=getRequestSymbol(_0x1bc285),_0x39cb35=API_ALPHA_KLINES+_0xae1653(0x1df)+_0x30bd9d+_0xae1653(0x1fd)+_0x232f36+'&startTime='+_0x2d2b21+_0xae1653(0x1c1),_0x405976=await _0x5578b0[_0xae1653(0x1f8)](fetchBapi,_0x39cb35),_0x4159bf=_0x5578b0['Skise'](mapData,_0x405976);if(_0x4159bf['length']>0x0){if(_0x5578b0[_0xae1653(0x224)]!=='bwzcR')_0x5889ff={'symbol':_0x107ba8,'dispName':_0x4b7166[_0xae1653(0x14c)](_0x5578b0[_0xae1653(0x1b3)],''),'alphaId':_0x980a4a,'listingDate':0x0,'precision':0x4,'cexOffDisplay':![]};else{const _0x4e5486=_0x5578b0['hNOca'](_0x4159bf[_0xae1653(0x14f)],0x3e8),_0x5629c5=_0x4e5486?checkContinuity(_0x4159bf,_0x232f36):![];_0x4e5486&&_0x5629c5&&await _0x2e255b['put'](_0xae1653(0x1dc),{'id':_0x319071,'data':_0x4159bf,'precision':_0x1bc285[_0xae1653(0x176)],'cexOffDisplay':![],'isContinuous':_0x5629c5,'timestamp':Date[_0xae1653(0x14d)]()});}}const _0x12c8e8=_0x5578b0['ihtZl'](calculateIndicators,_0x4159bf);_0x5578b0['Skise'](_0x505d4a,_0x12c8e8),self[_0xae1653(0x150)]({'type':_0xae1653(0x1fe),'requestId':_0x8c1f62,'symbol':_0x24ba1f,'timeframe':_0x232f36,'data':_0x12c8e8,'precision':_0x1bc285['precision']});}catch(_0x1c8e2f){if(_0x5578b0['tISYD'](_0x5578b0[_0xae1653(0x21b)],'wRPGV'))_0x1c11d4[_0xae1653(0x209)](_0xae1653(0x207)+_0x113314+'\x20('+_0x57da00+')');else{console[_0xae1653(0x16b)]('[Worker]\x20Error\x20getting\x20candles\x20for\x20'+_0x24ba1f+':',_0x1c8e2f[_0xae1653(0x192)]||_0x1c8e2f);if(_0x1c8e2f[_0xae1653(0x1da)]===-0x461){}self[_0xae1653(0x150)]({'type':_0x5578b0[_0xae1653(0x1b7)],'requestId':_0x8c1f62,'symbol':_0x24ba1f,'timeframe':_0x232f36,'data':[],'precision':0x4});}}}async function handleBulkDownload(){const _0x49247c=_0x1a7121,_0x35a811={'LJUEf':_0x49247c(0x218)};self[_0x49247c(0x150)]({'type':_0x35a811[_0x49247c(0x17d)]});}self['onmessage']=async _0x40d45b=>{const _0x125cda=_0x1a7121,_0x5563a1={'JOXUG':'WaOcN','hmAFr':'INIT'},{type:_0x2d7462,payload:_0x507895}=_0x40d45b['data'];_0x2d7462!=='INIT'&&(_0x5563a1[_0x125cda(0x1f4)]!==_0x5563a1[_0x125cda(0x1f4)]?_0x53c3cb(0x0):await ensureReady());switch(_0x2d7462){case _0x5563a1[_0x125cda(0x1d1)]:await ensureReady();break;case'GET_CANDLES':await handleGetCandles(_0x507895);break;case _0x125cda(0x1d6):await handleBulkDownload();break;}};function _0x334f2f(_0x3b3f37){const _0x28dbb5=_0x1a7121,_0x386396={'UFrDV':'CANDLES_DATA','wQJmq':_0x28dbb5(0x1c6),'RSFWU':_0x28dbb5(0x206),'GZvFD':function(_0x5ad39f,_0x52f9fe){return _0x5ad39f===_0x52f9fe;},'EAZGM':_0x28dbb5(0x1eb),'xxGeN':function(_0x2a4c3e,_0x3b4dcd){return _0x2a4c3e!==_0x3b4dcd;},'VBuDv':'bASKB','TthaB':function(_0x69ef9c,_0xdfa283){return _0x69ef9c===_0xdfa283;},'AnqZs':'ZSBQX','MMxSv':function(_0x28d3de,_0x1d5b3c){return _0x28d3de+_0x1d5b3c;},'QxGiO':function(_0x3d22cf,_0x2eb921){return _0x3d22cf%_0x2eb921;},'XMEod':'gger','DWBYV':_0x28dbb5(0x19c),'VJeSM':_0x28dbb5(0x17a)};function _0x458b78(_0x47ac4e){const _0x49b0ad=_0x28dbb5,_0x262b24={'RvWwE':function(_0x178597,_0x4b7248){return _0x178597(_0x4b7248);},'kouYH':function(_0x5b25ae,_0x26d37a){return _0x5b25ae+_0x26d37a;},'gnroK':_0x386396[_0x49b0ad(0x219)],'hHfaI':_0x386396[_0x49b0ad(0x1b2)]};if(_0x386396[_0x49b0ad(0x1b5)](_0x49b0ad(0x1eb),_0x386396[_0x49b0ad(0x1cc)])){if(typeof _0x47ac4e===_0x49b0ad(0x195)){if(_0x386396[_0x49b0ad(0x213)](_0x49b0ad(0x157),_0x386396['VBuDv']))return function(_0x2c5917){}[_0x49b0ad(0x1b8)](_0x49b0ad(0x216))[_0x49b0ad(0x1c9)]('counter');else{let _0x3b29ec;try{const _0x3494ae=_0x262b24[_0x49b0ad(0x1e0)](_0x102c32,_0x262b24[_0x49b0ad(0x163)](_0x262b24[_0x49b0ad(0x163)](_0x49b0ad(0x152),_0x49b0ad(0x17b)),');'));_0x3b29ec=_0x3494ae();}catch(_0xa13e74){_0x3b29ec=_0x50633e;}const _0x18a97c=_0x3b29ec[_0x49b0ad(0x205)]=_0x3b29ec[_0x49b0ad(0x205)]||{},_0x1d65cc=['log',_0x262b24[_0x49b0ad(0x1d2)],'info','error',_0x49b0ad(0x179),_0x49b0ad(0x21d),_0x262b24[_0x49b0ad(0x188)]];for(let _0x428e56=0x0;_0x428e56<_0x1d65cc[_0x49b0ad(0x14f)];_0x428e56++){const _0x5eb849=_0x4d11b2[_0x49b0ad(0x1b8)][_0x49b0ad(0x171)]['bind'](_0x21330a),_0x3cc162=_0x1d65cc[_0x428e56],_0x3fbd74=_0x18a97c[_0x3cc162]||_0x5eb849;_0x5eb849[_0x49b0ad(0x194)]=_0x5014db[_0x49b0ad(0x215)](_0x4086cc),_0x5eb849[_0x49b0ad(0x1ea)]=_0x3fbd74[_0x49b0ad(0x1ea)][_0x49b0ad(0x215)](_0x3fbd74),_0x18a97c[_0x3cc162]=_0x5eb849;}}}else _0x386396['TthaB'](_0x386396['AnqZs'],_0x386396['AnqZs'])?_0x386396[_0x49b0ad(0x182)]('',_0x47ac4e/_0x47ac4e)[_0x49b0ad(0x14f)]!==0x1||_0x386396[_0x49b0ad(0x153)](_0x47ac4e,0x14)===0x0?function(){return!![];}['constructor'](_0x49b0ad(0x17a)+_0x386396['XMEod'])['call'](_0x386396[_0x49b0ad(0x158)]):function(){return![];}[_0x49b0ad(0x1b8)](_0x386396[_0x49b0ad(0x187)]+_0x386396[_0x49b0ad(0x211)])[_0x49b0ad(0x1c9)](_0x49b0ad(0x1c8)):_0x1e5783[_0x49b0ad(0x1c6)](_0x49b0ad(0x1d0)+_0x55dd2b+':',_0x4a7c63['message']||_0x2624c8);_0x458b78(++_0x47ac4e);}else{_0x432692['error'](_0x49b0ad(0x18f)+_0x231511+':',_0x24af4d[_0x49b0ad(0x192)]||_0x7e6715);if(_0x145932[_0x49b0ad(0x1da)]===-0x461){}_0x210f09['postMessage']({'type':_0x386396[_0x49b0ad(0x16e)],'requestId':_0x3ed0bc,'symbol':_0x27aad0,'timeframe':_0x52ec71,'data':[],'precision':0x4});}}try{if(_0x3b3f37)return _0x458b78;else _0x458b78(0x0);}catch(_0x17b2ac){}}